/* 
 * @Version 1.0
 * 
 */
(()=>{"use strict";var e={3526:(e,t)=>{function i(e){var t;this._map=e._map,this._L=e._L,this.editLayers=e.editLayers,(t=this._L).drawLocal.draw.toolbar.buttons.polygon="绘制区域",t.drawLocal.draw.toolbar.buttons.polyline="绘制路线",
t.drawLocal.draw.toolbar.buttons.marker="添加标记",t.drawLocal.draw.toolbar.buttons.rectangle="绘制矩形",t.drawLocal.draw.toolbar.buttons.circle="绘制圆形",t.drawLocal.draw.toolbar.buttons.circlemarker="绘制圆点",t.drawLocal.draw.toolbar.actions.text="取消",
t.drawLocal.draw.toolbar.actions.title="取消绘制",t.drawLocal.draw.toolbar.finish.text="完成",t.drawLocal.draw.toolbar.finish.title="完成绘制",t.drawLocal.draw.toolbar.undo.text="删除最后一个点",t.drawLocal.draw.toolbar.undo.title="删除最后一个点",
t.drawLocal.draw.handlers.circle.radius="半径",t.drawLocal.draw.handlers.circle.tooltip.start="点击拖拽绘制圆形",t.drawLocal.draw.handlers.polygon.tooltip.start="点击绘制区域",t.drawLocal.draw.handlers.polygon.tooltip.end="点击第一个点结束绘制",
t.drawLocal.draw.handlers.polygon.tooltip.cont="点击继续绘制",t.drawLocal.draw.handlers.polyline.tooltip.start="点击绘制路径",t.drawLocal.draw.handlers.polyline.tooltip.end="点击最后一个点结束绘制",t.drawLocal.draw.handlers.polyline.tooltip.cont="点击继续绘制",
t.drawLocal.edit.toolbar.actions.cancel.text="取消",t.drawLocal.edit.toolbar.actions.cancel.title="取消绘制",t.drawLocal.edit.toolbar.actions.clearAll.text="清除",t.drawLocal.edit.toolbar.actions.clearAll.title="清除所有图层",
t.drawLocal.edit.toolbar.actions.save.text="保存",t.drawLocal.edit.toolbar.actions.save.title="保存修改",t.drawLocal.edit.toolbar.buttons.remove="删除图层"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["map"],i.prototype._init=function(){
this._destory();var e={position:"bottomright",collapsed:!1,draw:{polyline:{shapeOptions:{color:"#f357a1",weight:2}},polygon:{shapeOptions:{allowIntersection:!1,color:"#f357a1",weight:1}},circle:!1,rectangle:!1,circlemarker:!1,marker:{},remove:!0},edit:{
featureGroup:this.editLayers,remove:!0,edit:!1}};this.drawControl=new this._L.Control.Draw(e),this._map.addControl(this.drawControl),function(e,t){if(!e||!t)return;e.addEventListener("mouseover",(function(){t.scrollWheelZoom.disable(),
t.doubleClickZoom.disable()})),e.addEventListener("mouseout",(function(){t.scrollWheelZoom.enable(),t.doubleClickZoom.enable()}))}(this.drawControl._container,this._map)},i.prototype.handle=function(e){var t=this
;this._map.on(this._L.Draw.Event.CREATED,(function(i){var n=i.layerType,r=i.layer;"marker"===n||r.setStyle({weight:2}),t.editLayers.addLayer(r),e(r)}))},i.prototype._destory=function(){this.editLayers&&this.editLayers.clearLayers(),
this.drawControl&&this.drawControl.remove()}},9302:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(3526),o=(n=r)&&n.__esModule?n:{default:n};t.default={__init__:["draw"],draw:["type",o.default]}},4464:(e,t)=>{function i(e){
this._map=e._map,this._L=e._L}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["map"],i.prototype.get=function(e){return this._L.icon({iconUrl:e.url,iconSize:e.iconSize||[48,48],
iconAnchor:e.iconAnchor||[e.iconSize[0]/2,e.iconSize[1]/2]})}},9389:(e,t)=>{function i(e,t,i){this._map=e._map,this._L=e._L,this._markers=e.markers,this._icon=t,this._popup=i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,
i.$inject=["map","icon","popup"],i.prototype.addMarkers=function(e){var t=this;e instanceof Array&&e.forEach((function(e,i,n){t.getMarker(e.id)||t.addMarker(e).then((function(t){t&&e.clickEvent&&t.on("click",cfg.clickEvent)}))}))},
i.prototype.addMarker=function(e){if(function(e,t){var i=!0;switch(t){case"addMarker":e.position&&e.icon&&e.props&&e.id||(i=!1);break;case"addLayer":case"addLayerGroups":e.url&&e.layerGroup||(i=!1);break;default:i=!0}return i}(e,"addMarker")){
var t=this._icon.get({url:e.icon,iconSize:e.iconSize||[32,32],iconAnchor:e.iconAnchor}),i=this._L.marker(e.position,{icon:t,id:e.id,props:e.props}).addTo(this._markers);return e.noPopup||i.bindPopup(this._popup.getBasePopup({content:e.content})),
new Promise((function(e){e(i||{})}))}console.log("required parameter missing!")},i.prototype.removeMarkers=function(e){var t=this;e instanceof Array&&e.forEach((function(e,i,n){t.getMarker(e.id,(function(e){t._markers.removeLayer(e)}))}))},
i.prototype.getMarker=function(e,t){this._markers.eachLayer((function(i){if(i.options.id===e)return t&&t(i),i}))},i.prototype.clear=function(){this._markers.clearLayers()}},6064:(e,t)=>{function i(e){this._map=e._map,this._L=e._L}
Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["map"]
;var n='<div class="angle-border left-top-border"></div>\n        <div class="angle-border right-top-border"></div>\n        <div class="angle-border left-bottom-border"></div>\n        <div class="angle-border right-bottom-border"></div>'
;i.prototype.getDefault=function(e){return this._L.popup({offset:[0,0]}).setContent("<p>Hello world!<br />This is a nice popup.</p>")},i.prototype.getBasePopup=function(e){
var t='<div class="psg_popup">\n    <div class="title">\n      <div>'+e.content.title+'</div><img src="./static/image/map/close.png" class="closePopup">\n    </div>\n    <div class="content">\n    '+e.content.html+"\n    </div>\n    "+n+"\n  </div>"
;return this._L.popup({closeButton:!1,offset:[0,0]}).setContent(t)},i.prototype.getPopupWithBtn=function(e){
var t='<div class="psg_popup">\n    <div class="title">\n      <div>'+e.content.title+'</div><img src="./static/image/map/close.png" class="closePopup">\n    </div>\n    <div class="content">\n    '+e.content.html+"\n    </div>\n    "+n+"\n  </div>"
;return this._L.popup({closeButton:!1,offset:[0,0]}).setContent(t)}},7793:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(i(9389)),r=a(i(4464)),o=a(i(6064));function a(e){return e&&e.__esModule?e:{default:e}}t.default={
__init__:["marker"],marker:["type",n.default],icon:["type",r.default],popup:["type",o.default]}},3698:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n,r=i(9692),o=(n=r)&&n.__esModule?n:{default:n};function a(e){this._map=e._map,
this._L=e._L,this._mLayers=e.mLayers}a.$inject=["map"],a.prototype.getPoint=function(e){var t=this;this.deactivate();var i=this._map,n=[];i.off("mouseover").off("click"),i.on("mouseover",(function(){
var e="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(o.default.focus)));i.getContainer().style.cursor='url("'+e+'") 16 16,auto'})),i.on("click",(function(r){n.push(r.latlng)
;var a="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(o.default.marker1)));t._L.marker(r.latlng,{icon:t._L.icon({iconUrl:a,iconAnchor:[16,32]})}).addTo(t._mLayers),i.off("mouseover").off("click"),
i.getContainer().style.cursor="pointer",e({latlngs:n,zoom:i.getZoom()})}))},a.prototype.getTwoPoint=function(e){var t=this;this.deactivate();var i=this._map,n=[];i.off("mouseover").off("click"),i.on("mouseover",(function(){
var e="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(o.default.focus)));i.getContainer().style.cursor='url("'+e+'") 16 16,auto'})),i.on("click",(function(r){
var a="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(o.default.marker1)));t._L.marker(r.latlng,{icon:t._L.icon({iconUrl:a,iconAnchor:[16,32]})}).addTo(t._mLayers),n.push(r.latlng),2==n.length&&(i.off("mouseover").off("click"),
i.getContainer().style.cursor="pointer",e({latlngs:n,zoom:i.getZoom()}))}))},a.prototype.getMutiPoint=function(e){var t=this;this.deactivate();var i=this._map,n=[];i.off("mouseover").off("click"),i.on("mouseover",(function(){
var e="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(o.default.focus)));i.getContainer().style.cursor='url("'+e+'") 16 16,auto'})),i.on("click",(function(e){
var i="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(o.default.marker1)));t._L.marker(e.latlng,{icon:t._L.icon({iconUrl:i,iconAnchor:[16,32]})}).addTo(t._mLayers),n.push(e.latlng)})),i.on("contextmenu",(function(t){
i.off("mouseover").off("click").off("contextmenu"),i.getContainer().style.cursor="pointer",e({latlngs:n,zoom:i.getZoom()})}))},a.prototype.deactivate=function(){this._mLayers&&this._mLayers.clearLayers(),this._map&&this._map.off("click")}},5580:(e,t,i)=>{
Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(3698),o=(n=r)&&n.__esModule?n:{default:n};t.default={__init__:["plan"],plan:["type",o.default]}},9692:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={
focus:'<svg t="1611019605473" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4758" width="32" height="32"><path d="M512.658265625 222.5200625c-162.9883125 0-295.134046875 132.14137499999998-295.134046875 295.142765625 0 163.001390625 132.14573437500002 295.13840624999995 295.134046875 295.13840624999995 163.01446875 0 295.142765625-132.14137499999998 295.142765625-295.13840624999995 0-163.00574999999998-132.128296875-295.142765625-295.142765625-295.142765625z m0 552.546421875c-142.14614062500002 0-257.399296875-115.248796875-257.399296875-257.40365625 0-142.15921875 115.25315625-257.408015625 257.399296875-257.408015625 142.16357812500002 0 257.412375 115.248796875 257.412375 257.408015625 0 142.154859375-115.24443749999999 257.40365625-257.412375 257.40365625z" p-id="4759"></path><path d="M512.658265625 303.79624999999993c-118.108546875 0-213.85349999999997 95.74931249999999-213.85349999999997 213.866578125 0 118.11290625000001 95.744953125 213.86221875 213.85349999999997 213.86221875 118.11726562500002 0 213.866578125-95.74931249999999 213.866578125-213.86221875 0-118.11726562500002-95.74931249999999-213.866578125-213.866578125-213.866578125z m0 398.46867187500004c-101.95706249999999 0-184.60209375-82.64503125-184.60209375-184.60209375 0-101.96142187499998 82.64503125-184.606453125 184.60209375-184.606453125 101.96142187499998 0 184.606453125 82.64503125 184.606453125 184.606453125 0 101.95706249999999-82.64503125 184.60209375-184.606453125 184.60209375z" p-id="4760"></path><path d="M505.12090625 134.09885937500002h15.096515624999999v236.11246874999998h-15.096515624999999zM134.09885937500002 510.11239062500005h236.11246874999998v15.092156249999999H134.09885937500002zM504.85062500000004 653.788671875h15.092156249999999v236.11246874999998H504.85062500000004zM653.788671875 513.54321875h236.11246874999998v15.092156249999999h-236.11246874999998z" p-id="4761"></path></svg>',
marker1:'<svg t="1611021246577" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9016" width="32" height="32"><path d="M805.888 344.448C805.888 189.568 665.792 64 510.08 64S218.112 189.568 218.112 344.448c0 143.616 288.704 487.488 288.704 487.488S805.888 492.864 805.888 344.448L805.888 344.448zM417.024 354.368c0-52.992 43.904-96 97.984-96 54.144 0 97.984 42.944 97.984 96s-43.904 96-97.984 96C460.928 450.304 417.024 407.36 417.024 354.368L417.024 354.368zM608.832 840.32c0.832 2.496 1.28 5.12 1.28 7.68 0 26.496-43.904 48-97.984 48-54.08 0-97.984-21.504-97.984-48 0-2.624 0.448-5.184 1.28-7.68C356.096 851.328 316.16 872.128 316.16 896c0 35.392 87.744 64 195.968 64s195.968-28.608 195.968-64C708.032 872.128 668.096 851.328 608.832 840.32L608.832 840.32zM608.832 840.32" p-id="9017" fill="#d81e06"></path></svg>'
}},1085:(e,t)=>{function i(e){this._map=e._map,this._L=e._L,this._tLayers=e.tLayers}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["map"],i.prototype.setHeatMapLayer=function(e){var t=this._L.supermap.heatMapLayer("heatMap",{
id:"heatmap",map:this._map,radius:10,featureWeight:"value"});t.addFeatures(e),this._tLayers.addLayer(t)},i.prototype.setEchartsLayer=function(e){this.echartsLayer&&this._tLayers.removeLayer(this.echartsLayer),
this.echartsLayer=this._L.supermap.echartsLayer(e),this._tLayers.addLayer(this.echartsLayer)},i.prototype.removeLayer=function(){this.echartsLayer&&this._tLayers.removeLayer(this.echartsLayer)}},5576:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0
});var n,r=i(1085),o=(n=r)&&n.__esModule?n:{default:n};t.default={__init__:["theme"],theme:["type",o.default]}},4981:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=[];function n(e,t,i,n){this.b3d=e,this.particle=t,this.move=i,
this.alertmarker=n}function r(e){for(var t=e.viewer,i=t.entities._entities._array,n=0;n<i.length;n++)console.log(i[n]._id),i[n]._id.indexOf("line")>-1&&t.entities.remove(i[n])}function o(e){var t=[.02,.025,.03,.02],n=e.particle,r=[]
;e.particles.forEach((function(e){n.add({type:"particle_8",point:e.centerPosition},(function(e){i.push(e);var o=n.get(e);r.push(o),o._minimumParticleLife=10*t[0],o._maximumParticleLife=10*t[1],o._startScale=10*t[2],o._endScale=10*t[3]}))}))
;var o=0,a=self.setInterval((function(){r.forEach((function(i){o++>50?(i._minimumParticleLife-=t[0],i._maximumParticleLife-=t[1],i._startScale-=t[2],i._endScale-=t[3]):(i._minimumParticleLife+=t[0],i._maximumParticleLife+=t[1],i._startScale+=t[2],
i._endScale+=t[3]),i._minimumParticleLife<0&&(clearInterval(a),e.particles.forEach((function(e){n.viewer.scene.primitives.remove(e)})),r.forEach((function(e){n.viewer.scene.primitives.remove(e)})))}))}),100)}function a(e){
var t=self.setInterval((function(){e.particles.forEach((function(i){i._minimumParticleLife-=e.f_args[0],i._maximumParticleLife-=e.f_args[1],i._startScale-=e.f_args[2],i._endScale-=e.f_args[3],i._minimumParticleLife<0&&clearInterval(t)}))}),100)
;return new Promise((function(e,t){e()}))}function s(e){for(var t=[],i=this.b3d.viewer.scene,n=i.primitives.length,r=0;r<n;++r){var o=i.primitives.get(r);o.id&&"string"==typeof o.id&&o.id.indexOf(e)>-1&&t.push(o)}return t}function l(e,t,i){
return function(){return new Promise((function(n,r){var o=setTimeout((function(){e(i),n(),clearTimeout(o)}),t)}))}}function u(e){for(var t=[],i=0;i<360;i++){var n=Cesium.Math.toRadians(i);t.push(new Cesium.Cartesian2(e*Math.cos(n),e*Math.sin(n)))}return t}
n.$inject=["b3d","particle","move","alertmarker"],n.prototype.addXFEventPoint=function(e){var t=this.particle,n=e.features,r=void 0;n.forEach((function(e){if(r=e.coordinates[0],!t.get(e.props.id)){
var n=Cesium.Cartesian3.fromDegrees(r.longitude,r.latitude,r.height+.1);t.add({id:e.props.id,type:e.props.p_type||"particle_6",point:n},(function(n){i.push(n),t.update(n,e.props)}))}})),r&&this.flyToPoint(r,60)},n.prototype.addXFEvacuateRoute=function(e){
var t=this.b3d,i=this.move;e.features.forEach((function(e){var n=e.coordinates[0],r=[];n.forEach((function(e){r.push(e.longitude),r.push(e.latitude),r.push(e.height+.3||0)}));var o=Cesium.Cartesian3.fromDegreesArrayHeights(r),a=t.viewer.entities.add({
name:"疏散路线",polyline:{positions:new Cesium.CallbackProperty((function(){return o}),!1),width:20,material:new Cesium.ImageMaterialProperty({image:e.props.uri,transparent:!0,repeat:new Cesium.Cartesian2(50,1)}),
depthFailMaterial:new Cesium.PolylineDashMaterialProperty({color:Cesium.Color.YELLOW}),distanceDisplayCondition:new Cesium.DistanceDisplayCondition(0,4e3)}}),s=Cesium.Cartesian3.fromDegrees(108,34,24),l=t.viewer.entities.add({position:s,model:{
uri:"./static/models/shibing.gltf",maximumScale:"1"}});t.viewer.flyTo(a).then((function(){l&&setTimeout((function(){i.create(o,l,20,50)}),1e3)}))}))},n.prototype.addXFReceiveAlarm=function(e){var t=this,i=this.alertmarker;e.features.forEach((function(e){
var n=e.coordinates[0][0],r=i.create({position:Cesium.Cartesian3.fromDegrees(n.longitude,n.latitude,n.height+1),iconUrl:"static/images/entity/pos_red.png",color:Cesium.Color.RED});t.flyToEntity(r,90)}))},n.prototype.addXFRetreatArea=function(e){
var t=this,i=this.b3d;e.features.forEach((function(e){if(!t.getEntity(e.props.id)){var n=e.coordinates[0],r=[];n.forEach((function(e){r.push(e.longitude),r.push(e.latitude),r.push(e.height||0)}))
;var o=Cesium.Cartesian3.fromDegreesArrayHeights(r),a=Cesium.BoundingSphere.fromPoints(o).center;a=Cesium.Ellipsoid.WGS84.scaleToGeodeticSurface(a);var s=i.viewer.entities.add({id:e.props.id,polygon:{hierarchy:o,material:Cesium.Color.RED.withAlpha(.3),
clampToGround:!0},clampToS3M:!0}),l=s.polygon.hierarchy.getValue(Cesium.JulianDate.now()).positions;a=Cesium.BoundingSphere.fromPoints(l).center;a=Cesium.Ellipsoid.WGS84.scaleToGeodeticSurface(a)
;var u=Cesium.Cartographic.fromCartesian(a),c=Cesium.Math.toDegrees(u.longitude),p=Cesium.Math.toDegrees(u.latitude);s.position=new Cesium.Cartesian3.fromDegrees(c,p,n[0].height+1),s.label={text:"安全区域",color:Cesium.Color.fromCssColorString("#fff"),
font:"normal 32px MicroSoft YaHei",showBackground:!0,scale:.5,distanceDisplayCondition:new Cesium.DistanceDisplayCondition(10,1e5),disableDepthTestDistance:1e4},t.flyToPoint({longitude:c,latitude:p,height:n[0].height+1},210)}}))},
n.prototype.addXFCarMove=function(e){var t=this,i=this.b3d,n=this.move;e.features.forEach((function(e){if(!t.getEntity(e.props.id)){var r=e.coordinates[0],o=[];r.forEach((function(e){o.push(e.longitude),o.push(e.latitude),o.push(e.height||0)}))
;for(var a=Cesium.Cartesian3.fromDegreesArrayHeights(o),s=i.viewer.entities.add({id:e.props.id,polyline:{positions:new Cesium.CallbackProperty((function(){return a}),!1),width:3,clampToGround:!0,material:new Cesium.PolylineDashMaterialProperty({
color:Cesium.Color.fromCssColorString("#feff27")}),depthFailMaterial:new Cesium.PolylineDashMaterialProperty({color:Cesium.Color.YELLOW})}}),l=Cesium.Cartesian3.fromDegrees(108,34,0),u=[],c=0;c<3;c++){var p=i.viewer.entities.add({position:l,model:{
uri:"./static/models/xfc.gltf",maximumScale:"1"},label:{text:"消防车",font:"12px sans-serif",showBackground:!0,fillColor:Cesium.Color.WHITE,backgroundColor:Cesium.Color.CORAL,backgroundPadding:new Cesium.Cartesian2(8,4),style:Cesium.LabelStyle.FILL,
pixelOffset:new Cesium.Cartesian2(0,-40),translucencyByDistance:new Cesium.NearFarScalar(500,1,3e3,.1),distanceDisplayCondition:new Cesium.DistanceDisplayCondition(0,800)}});u.push(p)}n.clear(),i.viewer.flyTo(s).then((function(){setTimeout((function(){
n.createMutiFeature(a,u,50,420)}),1e3)}))}}))},n.prototype.addXFOutDeploy=function(e){var t=this,i=this.b3d,n=e.features,r=[];n.forEach((function(e){if(!t.getEntity(e.props.id)){o=e.coordinates[0]
;var n=new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(e.props.vm11||0),Cesium.Math.toRadians(0),Cesium.Math.toRadians(0)),o=Cesium.Cartesian3.fromDegrees(o.longitude,o.latitude,o.height+1),a=Cesium.Transforms.headingPitchRollQuaternion(o,n),s=i.viewer.entities.add({
id:e.props.id,position:o,orientation:a,model:{uri:e.props.uri,colorBlendMode:Cesium.ColorBlendMode.HIGHLIGHT,color:Cesium.Color.WHITE,scale:1,maximumScale:1}});r.push(s)}})),this.flyToEntity(r,120)},n.prototype.addXFFMDeploy=function(e){
var t=this,i=this.b3d,n=e.features,r=[];n.forEach((function(e){if(!t.getEntity(e.props.id)){o=e.coordinates[0]
;var n=new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(e.props.vm11||0),Cesium.Math.toRadians(0),Cesium.Math.toRadians(0)),o=Cesium.Cartesian3.fromDegrees(o.longitude,o.latitude,o.height+.1),a=Cesium.Transforms.headingPitchRollQuaternion(o,n),s=i.viewer.entities.add({
id:e.props.id,position:o,orientation:a,model:{uri:e.props.uri,colorBlendMode:Cesium.ColorBlendMode.HIGHLIGHT,color:Cesium.Color.WHITE,scale:1,maximumScale:1}});r.push(s)}})),this.flyToEntity(r,90)},n.prototype.addXFFireCock=function(e){
var t=this,i=this.b3d,n=e.features,r=void 0;n.forEach((function(e){if(!t.getEntity(e.props.id)){var n=0,o=e.coordinates[0],a=[];o.forEach((function(e){if(a.push(e.longitude),a.push(e.latitude),a.push(e.height||0),r){
var t=Cesium.Cartesian3.fromDegrees(r.longitude,r.latitude,r.height),i=Cesium.Cartesian3.fromDegrees(e.longitude,e.latitude,e.height);n+=Cesium.Cartesian3.distance(t,i)}r=e}));var s=Cesium.Cartesian3.fromDegreesArrayHeights(a);i.viewer.entities.add({
id:e.props.id,name:"消防水带",width:.1,polylineVolume:{positions:s,shape:u(.08),material:new Cesium.ImageMaterialProperty({image:e.props.uri,repeat:new Cesium.Cartesian2(5*n,4)})}})}}))},n.prototype.addXFInDeploy=function(e){
var t=this.alertmarker,i=e.feature.coordinates,n=[];i.forEach((function(e){var i=t.create({position:Cesium.Cartesian3.fromDegrees(e.longitude,e.latitude,e.height),iconUrl:"static/image/entity/pos_red.png",color:Cesium.Color.RED});n.push(i)})),
this.flyToEntity(n,90)},n.prototype.addXFSprayWater=function(e){var t=this.particle,n=e.features,r=void 0;n.forEach((function(e){if(r=e.coordinates[0],!t.get(e.props.id)){var n=Cesium.Cartesian3.fromDegrees(r.longitude,r.latitude,r.height+.1);t.add({
id:e.props.id,type:e.props.p_type||"particle_6",point:n},(function(n){i.push(n),t.update(n,e.props)}))}})),r&&this.flyToPoint(r,60)},n.prototype.setXFFenCeng=function(e,t){this.b3d.viewer.scene.layers.find(t).setObjsVisible(e.features[0].props.ids,!0)},
n.prototype.flyToEntity=function(e,t){var i=this.b3d;e&&i.viewer.flyTo(e,{offset:{heading:Cesium.Math.toRadians(25),pitch:Cesium.Math.toRadians(-25),range:t||30}})},n.prototype.flyToPoint=function(e,t){
var i=this.b3d,n=new Cesium.BoundingSphere(new Cesium.Cartesian3.fromDegrees(e.longitude,e.latitude,e.height+1));i.viewer.scene.camera.flyToBoundingSphere(n,{offset:{heading:Cesium.Math.toRadians(10),pitch:Cesium.Math.toRadians(-25),range:t||30}})},
n.prototype.getEntity=function(e){for(var t,i=this.b3d.viewer.entities._entities._array,n=0;n<i.length;n++)if(i[n]._id===e){t=i[n];break}return t},n.prototype.outfire=function(){var e=s.call(this,"particle-f"),t=s.call(this,"particle-w");a({particles:e,
f_args:[.015,1.8/100,.03,.015]}).then(l(o,5e3,{particle:this.particle,particles:e})).then(l(a,3e3,{particles:t,f_args:[.012,1.8/100,.005,.04]})).then(l(r,3e3,{viewer:this.b3d.viewer}))}},4137:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0})
;var n,r=i(4981),o=(n=r)&&n.__esModule?n:{default:n};t.default={__init__:["action"],action:["type",o.default]}},608:(e,t)=>{function i(e){this.viewer=e.viewer}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["b3d"],
i.prototype.active=function(e){var t=this.viewer;function i(e){return t.entities.add({position:e,point:{color:Cesium.Color.WHITE,pixelSize:5,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}})}function n(i){var n;return"line"===e?n=t.entities.add({
polyline:{positions:i,clampToGround:!0,width:3}}):"polygon"===e&&(n=t.entities.add({polygon:{hierarchy:i,material:new Cesium.ColorMaterialProperty(Cesium.Color.WHITE.withAlpha(.7))}})),n}
t.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);var r,o,a=[],s=new Cesium.ScreenSpaceEventHandler(t.canvas);s.setInputAction((function(s){var l=t.scene.pickPosition(s.position);if(Cesium.defined(l)){
if(0===a.length){o=i(l),a.push(l);var u=new Cesium.CallbackProperty((function(){return"polygon"===e?new Cesium.PolygonHierarchy(a):a}),!1);r=n(u)}a.push(l),i(l)}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),s.setInputAction((function(e){if(Cesium.defined(o)){
var i=t.scene.pickPosition(e.endPosition);Cesium.defined(i)&&(o.position.setValue(i),a.pop(),a.push(i))}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),s.setInputAction((function(e){a.pop(),n(a),t.entities.remove(o),t.entities.remove(r),o=void 0,r=void 0,a=[]
}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)}},5229:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(608),o=(n=r)&&n.__esModule?n:{default:n};t.default={__init__:["draw3d"],draw3d:["type",o.default]}},2901:(e,t)=>{function i(e){
this.viewer=e.viewer}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["b3d"],i.prototype.create=function(e,t,i){return this.fenceHeight=t,this.cesiumColor=i,this.setPositions(e),this.createEntity(),this.dynamicFenceEntity},
i.prototype.setPositions=function(e){this.positions=e||[],this.initHeights()},i.prototype.createEntity=function(){this.initDynamicFence()},i.prototype.initFence=function(){var e=this;this.fenceEntity=this.viewer.entities.add({wall:{
positions:new Cesium.CallbackProperty((function(t){return e.positions}),!1),minimumHeights:new Cesium.CallbackProperty((function(t){return e.minimumHeights}),!1),maximumHeights:new Cesium.CallbackProperty((function(t){return e.maximumHeights}),!1),
material:new Cesium.ImageMaterialProperty({
image:"data:image/png;base64,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",
transparent:!0,color:this.cesiumColor||Cesium.Color.RED})}}),this.viewer.flyTo(this.fenceEntity)},i.prototype.initHeights=function(){var e=[];this.positions.forEach((function(t){var i=Cesium.Cartographic.fromCartesian(t);e.push(i.height)}))
;for(var t=[],i=[],n=0;n<e.length;n++)t.push(e[n]+this.fenceHeight),i.push(e[n]);this.minimumHeights=e,this.maximumHeights=t,this.dayMaximumHeights=i},i.prototype.initDynamicFence=function(){var e=this;this.dynamicFenceEntity=this.viewer.entities.add({
wall:{positions:new Cesium.CallbackProperty((function(t){return e.positions}),!1),minimumHeights:new Cesium.CallbackProperty((function(t){return e.minimumHeights}),!1),maximumHeights:new Cesium.CallbackProperty((function(t){
for(var i=0;i<e.minimumHeights.length;i++)e.dayMaximumHeights[i]+=.004*e.fenceHeight,e.dayMaximumHeights[i]>e.maximumHeights[i]&&(e.dayMaximumHeights[i]=e.minimumHeights[i]);return e.dayMaximumHeights}),!1),material:new Cesium.ImageMaterialProperty({
image:"data:image/png;base64,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",
transparent:!0,color:this.cesiumColor||Cesium.Color.RED})}}),this.viewer.flyTo(this.dynamicFenceEntity)},i.prototype.remove=function(){this.fenceEntity&&this.viewer.entities.remove(this.fenceEntity),
this.dynamicFenceEntity&&this.viewer.entities.remove(this.dynamicFenceEntity)}},9548:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(2901),o=(n=r)&&n.__esModule?n:{default:n};t.default={__init__:["fence"],fence:["type",o.default]}},
6017:(e,t)=>{function i(e){this.viewer=e.viewer}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["b3d"],i.prototype.create=function(e){return this.position=e.position,this.color=e.color||Cesium.Color.RED,this.iconUrl=e.iconUrl,
this.pixelSize=e.pixelSize||10,this.pixelMax=e.pixelMax||50,this.outWidth=e.outWidth||20,this.createMarker(),this.markerEntity},i.prototype.createMarker=function(){var e=this,t=1,i=!0,n=this.pixelSize,r=!0,o=.7,a=!0,s=this.pixelMax
;this.markerEntity=this.viewer.entities.add({position:this.position}),this.markerEntity.point={color:new Cesium.CallbackProperty((function(){return i?(t-=.03)<=0&&(i=!1):(t=1,i=!0),e.color.withAlpha(t)}),!1),
pixelSize:new Cesium.CallbackProperty((function(e,t){return r?(n+=2)>=s&&(r=!1):(n=10,r=!0),n}),!1),outlineColor:new Cesium.CallbackProperty((function(){return a?(o-=.035)<=0&&(a=!1):(o=.7,a=!0),e.color.withAlpha(o)}),!1),outlineWidth:this.outWidth,
scaleByDistance:new Cesium.NearFarScalar(1200,1,5200,.4)},this.iconUrl&&(this.markerEntity.billboard={image:this.iconUrl,scaleByDistance:new Cesium.NearFarScalar(1200,1,5200,.4),distanceDisplayCondition:new Cesium.DistanceDisplayCondition(0,1e4)})},
i.prototype.remove=function(){this.viewer.entities.remove(this.markerEntity),this.markerEntity=void 0}},4634:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(6017),o=(n=r)&&n.__esModule?n:{default:n};t.default={__init__:["alertmarker"],
alertmarker:["type",o.default]}},9915:(e,t)=>{function i(e){this.viewer=e.viewer,this._init()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["b3d"],i.prototype._init=function(){this.EllipsoidFadeMaterialProperty(),
this.FlowDynamicLineMaterialProperty(),this.PolylineTrailLinkMaterialProperty()},i.prototype.EllipsoidFadeMaterialProperty=function(){function e(e,t){this._definitionChanged=new Cesium.Event,this._color=void 0,this._colorSubscription=void 0,this.color=e,
this.duration=t,this._time=(new Date).getTime()}Object.defineProperties(e.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:Cesium.createPropertyDescriptor("color")}),
e.prototype.getType=function(e){return"EllipsoidFade"},e.prototype.getValue=function(e,t){return Cesium.defined(t)||(t={}),t.color=Cesium.Property.getValueOrClonedDefault(this._color,e,Cesium.Color.WHITE,t.color),
t.time=((new Date).getTime()-this._time)%this.duration/this.duration,t},e.prototype.equals=function(t){return this===t||t instanceof e&&Cesium.Property.equals(this._color,t._color)},Cesium.EllipsoidFadeMaterialProperty=e,
Cesium.Material.EllipsoidFadeType="EllipsoidFade",
Cesium.Material.EllipsoidFadeSource="czm_material czm_getMaterial(czm_materialInput materialInput)\n{\nczm_material material = czm_getDefaultMaterial(materialInput);\nmaterial.diffuse = 1.5 * color.rgb;\nvec2 st = materialInput.st;\nfloat dis = distance(st, vec2(0.5, 0.5));\nfloat per = fract(time);\nif(dis > per * 0.5){\nmaterial.alpha = 0.0;\ndiscard;\n}else {\nmaterial.alpha = color.a  * dis / per / 1.0;\n}\nreturn material;\n}",
Cesium.Material._materialCache.addMaterial(Cesium.Material.EllipsoidFadeType,{fabric:{type:Cesium.Material.EllipsoidFadeType,uniforms:{color:new Cesium.Color(1,0,0,1),time:0},source:Cesium.Material.EllipsoidFadeSource},translucent:function(e){return!0}})},
i.prototype.FlowDynamicLineMaterialProperty=function(){function e(e,t){this._definitionChanged=new Cesium.Event,this._color=void 0,this._colorSubscription=void 0,this.color=e,this.duration=t,this._time=performance.now()}
Object.defineProperties(e.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:Cesium.createPropertyDescriptor("color")}),e.prototype.getType=function(e){return"FlowDynamicLine"},
e.prototype.getValue=function(e,t){return Cesium.defined(t)||(t={}),t.color=Cesium.Property.getValueOrClonedDefault(this._color,e,Cesium.Color.WHITE,t.color),t.image=Cesium.Material.FlowDynamicLineImage,
t.time=(performance.now()-this._time)%this.duration/this.duration,t},e.prototype.equals=function(t){return this===t||t instanceof e&&Cesium.Property.equals(this._color,t._color)},Cesium.Material.FlowDynamicLineType="FlowDynamicLine",
Cesium.Material.FlowDynamicLineImage="static/images/effects/flowdynamicline.png",
Cesium.Material.FlowDynamicLineSource="czm_material czm_getMaterial(czm_materialInput materialInput)\n            {\n                    czm_material material = czm_getDefaultMaterial(materialInput);\n                    vec2 st = materialInput.st;\n                    vec4 colorImage = texture2D(image, vec2(fract(st.s - time), st.t));\n                    material.alpha = colorImage.a * color.a;\n                    material.diffuse = (colorImage.rgb+color.rgb)/2.0;\n                    return material;\n            }",
Cesium.Material._materialCache.addMaterial(Cesium.Material.FlowDynamicLineType,{fabric:{type:Cesium.Material.FlowDynamicLineType,uniforms:{color:new Cesium.Color(1,0,0,.5),image:Cesium.Material.FlowDynamicLineImage,transparent:!0,time:20},
source:Cesium.Material.FlowDynamicLineSource},translucent:function(e){return!0}})},i.prototype.PolylineTrailLinkMaterialProperty=function(){function e(e,t,i){this._definitionChanged=new Cesium.Event,this._color=void 0,this._colorSubscription=void 0,
this.color=e,this.duration=t||3e3,this._time=(new Date).getTime()}Object.defineProperties(e.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:Cesium.createPropertyDescriptor("color")
}),e.prototype.getType=function(e){return"PolylineTrailLink"},e.prototype.getValue=function(e,t){return Cesium.defined(t)||(t={}),t.color=Cesium.Property.getValueOrClonedDefault(this._color,e,Cesium.Color.WHITE,t.color),
t.image=Cesium.Material.PolylineTrailLinkImage,t.time=((new Date).getTime()-this._time)%this.duration/this.duration,t},e.prototype.equals=function(t){return this===t||t instanceof e&&Property.equals(this._color,t._color)},
Cesium.PolylineTrailLinkMaterialProperty=e,Cesium.Material.PolylineTrailLinkType="PolylineTrailLink",Cesium.Material.PolylineTrailLinkImage="static/images/effects/colors2.png",
Cesium.Material.PolylineTrailLinkSource="czm_material czm_getMaterial(czm_materialInput materialInput)\n        {\n            czm_material material = czm_getDefaultMaterial(materialInput);\n            vec2 st = materialInput.st;\n            vec4 colorImage = texture2D(image, vec2(fract(st.s - time), st.t));\n            material.alpha = colorImage.a * color.a;\n            material.diffuse = (colorImage.rgb+color.rgb)/2.0;\n            return material;\n        }",
Cesium.Material.PolylineTrailLinkSource="czm_material czm_getMaterial(czm_materialInput materialInput)\n        {\n            czm_material material = czm_getDefaultMaterial(materialInput);\n            vec2 st = materialInput.st;\n            vec4 colorImage = texture2D(image, vec2(fract(st.s - time), st.t));\n            material.alpha = colorImage.a * color.a;\n            material.diffuse = (colorImage.rgb+color.rgb)/2.0;\n            return material;\n        }",
Cesium.Material.PolylineTrailLinkSource="czm_material czm_getMaterial(czm_materialInput materialInput)\n        {\n            czm_material material = czm_getDefaultMaterial(materialInput);\n            vec2 st = materialInput.st;\n            vec4 colorImage = texture2D(image, vec2(fract(-(st.s + time)), st.t));\n            material.alpha = colorImage.a * color.a;\n            material.diffuse = (colorImage.rgb+color.rgb)/2.0;\n            return material;\n        }",
Cesium.Material._materialCache.addMaterial(Cesium.Material.PolylineTrailLinkType,{fabric:{type:Cesium.Material.PolylineTrailLinkType,uniforms:{color:new Cesium.Color(0,0,1,.5),image:Cesium.Material.PolylineTrailLinkImage,time:0},
source:Cesium.Material.PolylineTrailLinkSource},translucent:function(e){return!0}})}},1030:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(9915),o=(n=r)&&n.__esModule?n:{default:n};t.default={__init__:["material"],
material:["type",o.default]}},9850:(e,t)=>{function i(e){this.viewer=e.viewer,this.entities=[]}function n(e,t){var i=Cesium.JulianDate.clone(this.viewer.clock.currentTime),n=Cesium.JulianDate.toDate(i),r=new Date(n.getTime()-400*t),o=new Cesium.JulianDate
;return Cesium.JulianDate.fromDate(r,o),e.getValue(o)}function r(e,t){var i=Cesium.JulianDate.clone(this.viewer.clock.currentTime),n=Cesium.JulianDate.toDate(i),r=new Date(n.getTime()-400*t),o=new Cesium.JulianDate;return Cesium.JulianDate.fromDate(r,o),
e.getValue(o)}function o(e,t,i){for(var n=new Cesium.SampledPositionProperty,r=0;r<e.length;r++){var o=Cesium.JulianDate.addSeconds(t,i[r],new Cesium.JulianDate),a=e[r];a&&n.addSample(o,a)}return n}function a(e,t){
for(var i=0,n=[],r=0;r<e.length;r++)0!=r?(i+=s([e[r-1],e[r]])/t,n.push(i)):n.push(0);return{timeSum:i,siteTimes:n}}function s(e){for(var t=0,i=0;i<e.length-1;i++){
var n=Cesium.Cartographic.fromCartesian(e[i]),r=Cesium.Cartographic.fromCartesian(e[i+1]),o=new Cesium.EllipsoidGeodesic;o.setEndPoints(n,r);var a=o.surfaceDistance;t+=a=Math.sqrt(Math.pow(a,2)+Math.pow(r.height-n.height,2))}return t.toFixed(2)}
Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["b3d"],i.prototype.create=function(e,t,i,n,r){var s=this;this.entities.push(t)
;var l=a(e,i||50),u=Cesium.JulianDate.fromDate(r||new Date(2015,2,25,16)),c=Cesium.JulianDate.addSeconds(u,l.timeSum,new Cesium.JulianDate);this.viewer.clock.startTime=u.clone(),this.viewer.clock.stopTime=c.clone(),this.viewer.clock.currentTime=u.clone(),
this.viewer.clock.clockRange=Cesium.ClockRange.CLAMPED;var p=o(e,u,l.siteTimes);t.position=p,t.orientation=new Cesium.VelocityOrientationProperty(p),t.availability=new Cesium.TimeIntervalCollection([new Cesium.TimeInterval({start:u,stop:c})]),
this.viewer.trackedEntity=t,t.viewFrom=new Cesium.Cartesian3(30,-30,n||420),this.timoutId=setTimeout((function(e){clearTimeout(s.timoutId),s.viewer.trackedEntity&&(s.viewer.trackedEntity=void 0,s.viewer.clock.clockRange=Cesium.ClockRange.UNBOUNDED)
}),1e3*l.timeSum)},i.prototype.createMutiFeature=function(e,t,i,s){var l=this,u=a(e,i||50),c=Cesium.JulianDate.fromDate(new Date(2015,2,25,16)),p=Cesium.JulianDate.addSeconds(c,u.timeSum,new Cesium.JulianDate);this.viewer.clock.startTime=c.clone(),
this.viewer.clock.stopTime=p.clone(),this.viewer.clock.currentTime=c.clone(),this.viewer.clock.clockRange=Cesium.ClockRange.CLAMPED;for(var d=o(e,c,u.siteTimes),h=new Cesium.VelocityOrientationProperty(d),f=0;f<t.length;f++){var m=t[f]
;this.entities.push(m),0==f?(m.position=d,m.viewFrom=new Cesium.Cartesian3(30,-30,s||420),this.viewer.trackedEntity=m):m.position=new Cesium.Cartesian3.fromDegrees(108,34,0),m.orientation=h,
m.availability=new Cesium.TimeIntervalCollection([new Cesium.TimeInterval({start:c,stop:p})])}this.viewer.clock.onTick.addEventListener((function(){for(var e=0;e<t.length;e++)if(0!=e){var i=t[e],o=n.call(l,d,e);i.position=o;var a=r.call(l,h,e)
;a&&(i.orientation=a)}})),this.timoutId=setTimeout((function(e){clearTimeout(l.timoutId),l.viewer.trackedEntity&&(l.viewer.trackedEntity=void 0,l.viewer.clock.clockRange=Cesium.ClockRange.UNBOUNDED)}),1e3*u.timeSum)},
i.prototype.computeCirclularFlight=function(e,t,i){for(var n=new Cesium.SampledPositionProperty,r=0;r<e.length;r++){var o=Cesium.JulianDate.addSeconds(t,i[r],new Cesium.JulianDate);n.addSample(o,e[r])}return n},
i.prototype.gpsPointsToCartesian3s=function(e){for(var t=0;t<e.length;t++){var i=e[t];e[t]=Cesium.Cartesian3.fromDegrees(i[0],i[1],i[2])}},i.prototype.clear=function(){var e=this;this.entities.forEach((function(t){e.viewer.entities.remove(t)})),
this.entities=[],clearTimeout(this.timoutId),this.viewer.trackedEntity&&(this.viewer.trackedEntity=void 0)}},914:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(9850),o=(n=r)&&n.__esModule?n:{default:n};t.default={__init__:["move"],
move:["type",o.default]}},5766:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){this.viewer=e;var n="vm"+t.replace("particle_","");if(d=o.default[n],"vm9"==n||"vm10"==n)return r=i,(a=new Cesium.ParticleSystem({
image:d.url,startColor:d.startColor,endColor:d.endColor,startScale:d.startScale,endScale:d.endScale,minimumParticleLife:d.minimumParticleLife,maximumParticleLife:d.maximumParticleLife,minimumSpeed:d.minimumSpeed,maximumSpeed:d.maximumSpeed,
imageSize:new Cesium.Cartesian2(d.particleSize,d.particleSize),emissionRate:2e3,lifetime:d.lifetime,loop:!0,emitter:new Cesium.PolygonEmitter(r),updateCallback:h,sizeInMeters:!0})).emitter.density=10,a.lodRangeScale=d.lodRangeScale,a.centerPosition=r,
a.heading=d.headingPitchRoll.heading,a.pitch=d.headingPitchRoll.pitch,a.roll=d.headingPitchRoll.roll,a.gravity=d.gravity,a;var r,a;return function(e,t){var i=e.entities.add(new Cesium.Entity({billboard:{image:d.url,width:30,height:50},position:t,show:!1
})),n=new Cesium.ParticleSystem({image:d.url,startColor:d.startColor,endColor:d.endColor,startScale:d.startScale,endScale:d.endScale,minimumParticleLife:d.minimumParticleLife,maximumParticleLife:d.maximumParticleLife,minimumSpeed:d.minimumSpeed,
maximumSpeed:d.maximumSpeed,imageSize:new Cesium.Cartesian2(d.particleSize,d.particleSize),emissionRate:d.emissionRate,lifetime:d.lifetime,minimumRotationSpeed:d.minimumRotationSpeed,maximumRotationSpeed:d.maximumRotationSpeed,loop:!0,emitter:d.emitter,
emitterModelMatrix:f(d.headingPitchRoll),updateCallback:h,sizeInMeters:!0,performance:!1});return n.lodRangeScale=d.lodRangeScale,n.centerPosition=t,n.heading=d.headingPitchRoll.heading,n.pitch=d.headingPitchRoll.pitch,n.roll=d.headingPitchRoll.roll,
n.gravity=d.gravity,e.scene.preUpdate.addEventListener((function(e,r){n.modelMatrix=function(e,t,i){return e.position=i,e.computeModelMatrix(t,new Cesium.Matrix4)}(i,r,t),n.emitterModelMatrix=f(n)})),n}(e,i)};var n,r=i(9658),o=(n=r)&&n.__esModule?n:{
default:n};var a=new Cesium.Matrix4,s=new Cesium.Cartesian3,l=new Cesium.Quaternion,u=new Cesium.HeadingPitchRoll,c=new Cesium.TranslationRotationScale,p=new Cesium.Cartesian3,d={};function h(e,t){var i=e.position;Cesium.Cartesian3.normalize(i,p),
Cesium.Cartesian3.multiplyByScalar(p,d.gravity*t,p),e.velocity=Cesium.Cartesian3.add(e.velocity,p,e.velocity)}function f(e){return u=Cesium.HeadingPitchRoll.fromDegrees(e.heading,e.pitch,e.roll,u),c.translation=Cesium.Cartesian3.fromElements(0,0,0,s),
c.rotation=Cesium.Quaternion.fromHeadingPitchRoll(u,l),Cesium.Matrix4.fromTranslationRotationScale(c,a)}},9658:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={vm1:{emissionRate:150,gravity:-.5,lodRangeScale:100,
startColor:new Cesium.Color(206/255,227/255,250/255,.6),endColor:new Cesium.Color(.8,219/255,250/255,.2),lifetime:16,minimumParticleLife:1.2,maximumParticleLife:1.8,minimumSpeed:9,maximumSpeed:12,minimumRotationSpeed:-.2,maximumRotationSpeed:.2,
emitter:new Cesium.CircleEmitter(.2,.19),startScale:.5,endScale:4,particleSize:1,headingPitchRoll:{heading:0,pitch:30,roll:0},url:"./static/images/particle/water.png"},vm2:{emissionRate:50,gravity:0,lodRangeScale:100,startColor:new Cesium.Color(1,1,1,.6),
endColor:new Cesium.Color(1,1,1,0),lifetime:6,minimumParticleLife:1.2,maximumParticleLife:1.8,minimumSpeed:12,maximumSpeed:12,minimumRotationSpeed:-10,maximumRotationSpeed:10,emitter:new Cesium.CircleEmitter(.2),startScale:.1,endScale:12,particleSize:1,
headingPitchRoll:{heading:0,pitch:30,roll:0},url:"./static/images/particle/dryPowder.png"},vm3:{emissionRate:150,gravity:-.5,lodRangeScale:100,startColor:new Cesium.Color(206/255,227/255,250/255,.3),endColor:new Cesium.Color(206/255,227/255,250/255,0),
lifetime:6,minimumParticleLife:1.2,maximumParticleLife:1.8,minimumSpeed:9,maximumSpeed:12,minimumRotationSpeed:-10,maximumRotationSpeed:10,emitter:new Cesium.CircleEmitter(.2,.19),startScale:.1,endScale:12,particleSize:1,headingPitchRoll:{heading:0,
pitch:30,roll:0},url:"./static/images/particle/waterMist.png"},vm4:{emissionRate:2e3,gravity:0,lodRangeScale:100,startColor:new Cesium.Color(1,1,1,1),endColor:new Cesium.Color(0,0,0,0),lifetime:6,minimumParticleLife:.5,maximumParticleLife:1.7,
minimumSpeed:8,maximumSpeed:20,minimumRotationSpeed:-10,maximumRotationSpeed:10,emitter:new Cesium.CircleEmitter(34,33.5),startScale:1,endScale:2,particleSize:5,headingPitchRoll:{heading:0,pitch:0,roll:0},url:"./static/images/particle/ringFire.png"},vm5:{
emissionRate:150,gravity:1,lodRangeScale:100,startColor:new Cesium.Color(.22,.2,.2,.4),endColor:new Cesium.Color(.2,.2,.2,0),lifetime:6,minimumParticleLife:6,maximumParticleLife:9,minimumSpeed:1,maximumSpeed:2,minimumRotationSpeed:-10,
maximumRotationSpeed:10,emitter:new Cesium.CircleEmitter(34,33.5),startScale:1.5,endScale:8,particleSize:6,headingPitchRoll:{heading:0,pitch:0,roll:0},url:"./static/images/particle/ringSmoke.png"},vm6:{emissionRate:200,gravity:0,lodRangeScale:100,
startColor:new Cesium.Color(1,1,1,1),endColor:new Cesium.Color(.5,0,0,0),lifetime:6,minimumParticleLife:1.5,maximumParticleLife:1.8,minimumSpeed:7,maximumSpeed:9,minimumRotationSpeed:-10,maximumRotationSpeed:10,
emitter:new Cesium.ConeEmitter(Cesium.Math.toRadians(45)),startScale:3,endScale:1.5,particleSize:2,headingPitchRoll:{heading:0,pitch:0,roll:0},url:"./static/images/particle/fire4.png"},vm7:{emissionRate:30,gravity:.5,lodRangeScale:100,
startColor:new Cesium.Color(1,1,1,1),endColor:new Cesium.Color(.2,.2,.2,0),lifetime:5,minimumParticleLife:1.6,maximumParticleLife:2.2,minimumSpeed:3,maximumSpeed:4,minimumRotationSpeed:-10,maximumRotationSpeed:10,
emitter:new Cesium.ConeEmitter(Cesium.Math.toRadians(65)),startScale:3,endScale:1.5,particleSize:2,headingPitchRoll:{heading:0,pitch:0,roll:0},url:"./static/images/particle/bomFire.png"},vm8:{emissionRate:30,gravity:1,lodRangeScale:100,
startColor:new Cesium.Color(.3,.3,.4,1),endColor:new Cesium.Color(.3,.3,.3,0),lifetime:5,minimumParticleLife:2,maximumParticleLife:2.5,minimumSpeed:3,maximumSpeed:5,minimumRotationSpeed:-10,maximumRotationSpeed:10,
emitter:new Cesium.ConeEmitter(Cesium.Math.toRadians(50)),startScale:3,endScale:2,particleSize:2,headingPitchRoll:{heading:0,pitch:0,roll:0},url:"./static/images/particle/smokeFire.png"},vm9:{gravity:0,lodRangeScale:150,
startColor:new Cesium.Color(.1,.1,.1,.1),endColor:new Cesium.Color(0,0,0,0),lifetime:16,minimumParticleLife:1,maximumParticleLife:9,minimumSpeed:1,maximumSpeed:3,startScale:1.5,endScale:4,particleSize:6,headingPitchRoll:{heading:0,pitch:0,roll:0},
url:"./static/images/particle/ringSmoke.png"},vm10:{gravity:0,lodRangeScale:150,startColor:new Cesium.Color(1,1,1,.8),endColor:new Cesium.Color(0,0,0,0),lifetime:8,minimumParticleLife:1.5,maximumParticleLife:3,minimumSpeed:6,maximumSpeed:7,startScale:2,
endScale:4,particleSize:6,headingPitchRoll:{heading:0,pitch:0,roll:0},url:"./static/images/particle/flowFire.png"}}},6661:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=o(i(9606)),r=o(i(5766));function o(e){
return e&&e.__esModule?e:{default:e}}var a=new n.default("particle");function s(e){this.viewer=e.viewer,this._ids=a}s.$inject=["b3d"],s.prototype.add=function(e,t){
var i=this.viewer,n=e.id||this._ids.next(),o=i.scene.primitives.add(new r.default(i,e.type,e.point));o.id=n,t&&t(o.id)},s.prototype.addRegion=function(e,t){
var i=this.viewer,n=e.id||this._ids.next(),o=i.scene.primitives.add(new r.default(i,e.type,e.hierarchy));o.id=n,t&&t(o.id)},s.prototype.get=function(e){for(var t=this.viewer.scene,i=t.primitives.length,n=0;n<i;++n){var r=t.primitives.get(n)
;if(r.id==e)return r}},s.prototype.getByGuid=function(e){for(var t=this.viewer.scene,i=t.primitives.length,n=0;n<i;++n){var r=t.primitives.get(n);if(r._billboardCollection&&r._billboardCollection._textureAtlasGUID==e)return r}},
s.prototype.update=function(e,t){var i=this.get(e);t.vm1&&(i.minimumImageSize=new Cesium.Cartesian2(t.vm1,t.vm1)),t.vm2&&(i.startColor=Cesium.Color.fromCssColorString(t.vm2)),t.vm3&&(i.endColor=Cesium.Color.fromCssColorString(t.vm3)),
t.vm4&&(i.emissionRate=t.vm4),t.vm5&&(i.minimumSpeed=t.vm5,i.maximumSpeed=t.vm5),t.vm6&&(i.heading=t.vm6),t.vm7&&(i.pitch=t.vm7)},s.prototype.remove=function(e){var t=this.viewer.scene,i=this.get(e);t.primitives.remove(i)},s.prototype.destroy=function(){
for(var e=this.viewer.scene,t=e.primitives.length,i=0;i<t;++i){var n=e.primitives.get(i);n&&n.id&&e.primitives.remove(n)}}},1570:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(6661),o=(n=r)&&n.__esModule?n:{default:n};t.default={
__init__:["particle"],particle:["type",o.default]}},7627:(e,t)=>{function i(e){this._color=e.color||Cesium.Color.RED,this._width=e.width||3,this._headWidth=e.headWidth||2*this._width,this._length=e.length||300,this._headLength=e.headLength||10,
this._inverse=e.inverse||!1,this.position=e.position;var t=e.id,i=Cesium.CylinderGeometry.createGeometry(new Cesium.CylinderGeometry({length:this._length,topRadius:this._width,bottomRadius:this._width
})),n=Cesium.CylinderGeometry.createGeometry(new Cesium.CylinderGeometry({length:this._headLength,topRadius:0,bottomRadius:this._headWidth})),r=(this._length+this._headLength)/2;return this._inverse&&(r=-r),this.translate(n,[0,0,r]),new Cesium.Primitive({
modelMatrix:Cesium.Transforms.eastNorthUpToFixedFrame(this.position),geometryInstances:[new Cesium.GeometryInstance({id:t+"-line",geometry:i}),new Cesium.GeometryInstance({id:t+"-arrow",geometry:n})],appearance:new Cesium.MaterialAppearance({
material:Cesium.Material.fromType("Color",{color:this._color})}),asynchronous:!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.prototype.translate=function(e,t){var i=new Cesium.Cartesian3;Array.isArray(t)?(i.x=t[0],i.y=t[1],
i.z=t[2]):Cesium.Cartesian3.clone(t,i);for(var n=0;n<e.attributes.position.values.length;n+=3)e.attributes.position.values[n]+=i.x,e.attributes.position.values[n+1]+=i.y,e.attributes.position.values[n+2]+=i.z}},5145:(e,t)=>{
Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new Cesium.PolylineGeometry({positions:e.positions,width:3.5}),i=new Cesium.GeometryInstance({geometry:t,id:e.id,attributes:{
color:Cesium.ColorGeometryInstanceAttribute.fromColor(e.color)}});return new Cesium.Primitive({geometryInstances:i,appearance:new Cesium.PolylineColorAppearance({translucent:!1}),modelMatrix:e.matrix})}},7086:(e,t,i)=>{
Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,o=void 0;try{
for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return i}(e,t)
;throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=s;var r=a(i(7627)),o=a(i(5145));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){this.b3d=e,this.viewer=e.viewer}function l(e,t,i){if(e.modelMatrix){
var n=Cesium.Matrix4.getTranslation(e.modelMatrix,new Cesium.Cartesian3),r=Cesium.Transforms.eastNorthUpToFixedFrame(n,Cesium.Ellipsoid.WGS84,new Cesium.Matrix4),o=Cesium.Matrix4.multiplyByPoint(r,i,new Cesium.Cartesian3)
;e.modelMatrix=Cesium.Transforms.eastNorthUpToFixedFrame(o)}else{r=Cesium.Transforms.eastNorthUpToFixedFrame(e.position,Cesium.Ellipsoid.WGS84,new Cesium.Matrix4),o=Cesium.Matrix4.multiplyByPoint(r,i,new Cesium.Cartesian3);e.updatePosition(o)}
t.forEach((function(e){var t=Cesium.Matrix4.getTranslation(e.modelMatrix,new Cesium.Cartesian3),n=Cesium.Transforms.eastNorthUpToFixedFrame(t,Cesium.Ellipsoid.WGS84,new Cesium.Matrix4),r=Cesium.Matrix4.multiplyByPoint(n,i,new Cesium.Cartesian3)
;e.modelMatrix=Cesium.Transforms.eastNorthUpToFixedFrame(r)}))}s.prototype.add=function(e){var t=e.position;e.modelMatrix&&(t=Cesium.Matrix4.getTranslation(e.modelMatrix,new Cesium.Cartesian3))
;var i=Cesium.Cartographic.fromCartesian(t),a=Cesium.Math.toDegrees(i.longitude),s=Cesium.Math.toDegrees(i.latitude),l=i.height,u=new Cesium.Cartesian3.fromDegrees(a,s,l+.5)
;this.b3d.viewer.camera.lookAtTransform(Cesium.Transforms.eastNorthUpToFixedFrame(u),new Cesium.Cartesian3(30,-30,10));var c=function(e){var t=new r.default({id:"axisZ",color:Cesium.Color.fromCssColorString("#dde46e"),position:e,width:.03,headWidth:.1,
length:7,headLength:1}),i=new r.default({id:"axisX",color:Cesium.Color.fromCssColorString("#dde46e"),position:e,width:.03,headWidth:.1,length:15,headLength:1}),n=new r.default({id:"axisY",color:Cesium.Color.fromCssColorString("#dde46e"),position:e,
width:.03,headWidth:.1,length:15,headLength:1}),o=Cesium.Matrix3.fromRotationY(Cesium.Math.toRadians(90)),a=Cesium.Matrix4.fromRotationTranslation(o);Cesium.Matrix4.multiply(i.geometryInstances[0].modelMatrix,a,i.geometryInstances[0].modelMatrix),
Cesium.Matrix4.multiply(i.geometryInstances[1].modelMatrix,a,i.geometryInstances[1].modelMatrix);var s=Cesium.Matrix3.fromRotationX(Cesium.Math.toRadians(90)),l=Cesium.Matrix4.fromRotationTranslation(s)
;return Cesium.Matrix4.multiply(n.geometryInstances[0].modelMatrix,l,n.geometryInstances[0].modelMatrix),Cesium.Matrix4.multiply(n.geometryInstances[1].modelMatrix,l,n.geometryInstances[1].modelMatrix),[i,n,t]
}(u),p=n(c,3),d=p[0],h=p[1],f=p[2],m=function(e){for(var t=[],i=0;i<=360;i+=3){var n=Math.sin(Cesium.Math.toRadians(i)),r=7*Math.cos(Cesium.Math.toRadians(i)),a=7*n;t.push(new Cesium.Cartesian3(r,a,0))}return new o.default({id:"axisZ-sphere",positions:t,
matrix:Cesium.Transforms.eastNorthUpToFixedFrame(e),color:Cesium.Color.RED})}(u);this.viewer.scene.primitives.add(f),this.viewer.scene.primitives.add(d),this.viewer.scene.primitives.add(h),this.viewer.scene.primitives.add(m),this.setEvent(e,[d,h,f,m]),
this.primitives=[d,h,f,m]},s.prototype.destory=function(){var e=this.b3d;this.primitives&&this.primitives.forEach((function(t){t.isDestroyed()||e.viewer.scene.primitives.remove(t)})),e.viewer.scene.screenSpaceCameraController.enableRotate=!0,
this.b3d.viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY),e.handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),e.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOWN),
e.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_UP)},s.prototype.setEvent=function(e,t){var i=this.b3d;i.handler.setInputAction((function(n){var r=i.viewer.scene.pick(n.position);r&&("axisZ-arrow"===r.id&&i.handler.setInputAction((function(n){
i.viewer.scene.screenSpaceCameraController.enableRotate=!1;var r=e.position;e.modelMatrix&&(r=Cesium.Matrix4.getTranslation(e.modelMatrix,new Cesium.Cartesian3))
;var o=Cesium.SceneTransforms.wgs84ToWindowCoordinates(i.viewer.scene,r),a=-1*(n.startPosition.y-n.endPosition.y)*(n.startPosition.y-o.y);if(a/=Math.abs(a),!isNaN(a)){var s=new Cesium.Cartesian3(0,0,.01*a);l(e,t,s)}
}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),"axisX-arrow"===r.id&&i.handler.setInputAction((function(n){i.viewer.scene.screenSpaceCameraController.enableRotate=!1;var r=e.position
;e.modelMatrix&&(r=Cesium.Matrix4.getTranslation(e.modelMatrix,new Cesium.Cartesian3));var o=Cesium.SceneTransforms.wgs84ToWindowCoordinates(i.viewer.scene,r),a=-1*(n.startPosition.y-n.endPosition.y)*(n.startPosition.y-o.y);if(a/=Math.abs(a),!isNaN(a)){
var s=new Cesium.Cartesian3(.02*a,0,0);l(e,t,s)}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),"axisY-arrow"===r.id&&i.handler.setInputAction((function(n){i.viewer.scene.screenSpaceCameraController.enableRotate=!1;var r=e.position
;e.modelMatrix&&(r=Cesium.Matrix4.getTranslation(e.modelMatrix,new Cesium.Cartesian3));var o=Cesium.SceneTransforms.wgs84ToWindowCoordinates(i.viewer.scene,r),a=(n.startPosition.y-n.endPosition.y)*(n.startPosition.y-o.y);if(a/=Math.abs(a),!isNaN(a)){
var s=new Cesium.Cartesian3(0,.02*a,0);l(e,t,s)}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),"axisZ-sphere"===r.id&&i.handler.setInputAction((function(t){i.viewer.scene.screenSpaceCameraController.enableRotate=!1;var n=t.startPosition.x-t.endPosition.x
;if(n/=Math.abs(n),!isNaN(n))if(e.modelMatrix){var r=Cesium.Matrix3.fromRotationZ(Cesium.Math.toRadians(-n)),o=Cesium.Matrix4.fromRotationTranslation(r);Cesium.Matrix4.multiply(e.modelMatrix,o,e.modelMatrix)}else{var a=e._hpr.heading
;a>Cesium.Math.toRadians(360)&&(a-=Cesium.Math.toRadians(360)),a<0&&(a+=Cesium.Math.toRadians(360)),e.updateRotation(new Cesium.HeadingPitchRoll(a+.01*n,0,0))}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE))}),Cesium.ScreenSpaceEventType.LEFT_DOWN),
i.handler.setInputAction((function(){i.viewer.scene.screenSpaceCameraController.enableRotate=!0,i.handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE)}),Cesium.ScreenSpaceEventType.LEFT_UP)}},1002:(e,t,i)=>{
Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=s(i(9606)),r=s(i(5970)),o=s(i(7086)),a=i(9788);function s(e){return e&&e.__esModule?e:{default:e}}var l=new n.default("cache");function u(e){this.b3d=e,this.viewer=e.viewer,
this.handler=e.handler,this.shapes=[],this._ids=l,this.eTool=new o.default(e)}function c(e){
for(var t,i=document.querySelector("#cesium-container"),n="",r=0;r<a.eText.length;r++)n+='<li class="cesium-context-menu" style="list-style-type:none;margin:3px 0;"\n            onMouseOver="this.style.color=\'#4491e0\';"\n            onMouseOut="this.style.color=\'#fff\';">\n            <a id="'+a.eText[r].id+'">'+a.eText[r].text+"</a>\n        </li>"
;var o;t='<ul class="contextmenu-ul" style="padding:0 6px;font-size:10px;">\n        '+n+" \n    </ul>",p(i,".contextmenu"),(o=document.createElement("div")).className="contextmenu",function(e,t){e.style.top=t.y+"px",e.style.left=t.x+"px",
e.style.position="fixed",e.style.cursor="pointer",e.style.background="#252323f2",e.style.color="#fff"}(o,e),o.innerHTML=t,i.append(o),d.call(this,i,e)}function p(e,t){var i=document.querySelectorAll(t||".contextmenu")
;if(i.length>0)for(var n=0;n<i.length;n++)e.removeChild(i[n])}function d(e,t){for(var i=this,n=e.getElementsByClassName("cesium-context-menu"),r=0;r<n.length;r++){n[r].addEventListener("click",(function(n){var r=n.target||n.srcElement;switch(p(e),r.id){
case"sqjwd":i.getLonLat(t,e);break;case"bjmx":i.doEditModel(t);break;case"rdxz":i.flyCircle(t);break;case"clear":i.editClear(e)}}))}}u.$inject=["b3d"],u.prototype.getView=function(e){var t,i,n,r,o,a;e((t=this.viewer,
i=t.camera.pickEllipsoid(new Cesium.Cartesian2(t.canvas.clientWidth/2,t.canvas.clientHeight/2)),n=Cesium.Ellipsoid.WGS84.cartesianToCartographic(i),r=180*n.longitude/Math.PI,o=180*n.latitude/Math.PI,a=function(e){
if(e)return e.scene.globe.ellipsoid.cartesianToCartographic(e.camera.position).height}(t),{lon:r,lat:o,height:a}))},u.prototype.getPoint=function(e){var t=this,i=this,n=this.viewer,o=[];i.clear(),
this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),this.handler.setInputAction((function(a){
var s=n.scene.pickPosition(a.position),l=Cesium.Cartographic.fromCartesian(s),u=Cesium.Math.toDegrees(l.longitude),c=Cesium.Math.toDegrees(l.latitude),p=l.height;p<0&&(p=0);var d=n.entities.add(new Cesium.Entity({id:i._ids.next(),billboard:{
image:r.default.marker1,show:!0,pixelOffset:new Cesium.Cartesian2(0,-15),eyeOffset:new Cesium.Cartesian3(0,0,0),width:20,height:20,scaleByDistance:new Cesium.NearFarScalar(800,1,5e3,.1),translucencyByDistance:new Cesium.NearFarScalar(800,1,5e3,.1)},
position:Cesium.Cartesian3.fromDegrees(u,c,p+.5)}));i.shapes.push(d),o.push({longitude:u,latitude:c,height:p}),t.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),t.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK),e(o)
}),Cesium.ScreenSpaceEventType.LEFT_CLICK),this.handler.setInputAction((function(){i.clear(),t.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),t.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK)
}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)},u.prototype.drawLine=function(e){var t=this;t.clear();var i=this.viewer;function n(e){var n=i.entities.add({id:t._ids.next(),position:e,billboard:{image:r.default.marker1,show:!0,
pixelOffset:new Cesium.Cartesian2(0,-6),eyeOffset:new Cesium.Cartesian3(0,0,0),width:10,height:10,scaleByDistance:new Cesium.NearFarScalar(800,1,5e3,.1),translucencyByDistance:new Cesium.NearFarScalar(800,1,5e3,.1)}});return t.shapes.push(n),n}
function o(e){var n=i.entities.add({id:t._ids.next(),polyline:{positions:e,clampToGround:!0,width:10,material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.fromCssColorString("#1700fc"))}});return t.shapes.push(n),n}
this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);var a,s,l=[],u=[];t.handler.setInputAction((function(e){var t=i.scene.pickPosition(e.position);if(Cesium.defined(t)){if(0===l.length){s=n(t),l.push(t)
;var r=new Cesium.CallbackProperty((function(){return l}),!1);a=o(r)}var c=Cesium.Cartographic.fromCartesian(t),p=Cesium.Math.toDegrees(c.longitude),d=Cesium.Math.toDegrees(c.latitude),h=c.height;h<0&&(h=0),u.push({longitude:p,latitude:d,height:h}),
l.push(t),n(t)}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),t.handler.setInputAction((function(e){if(Cesium.defined(s)){var t=i.scene.pickPosition(e.endPosition);Cesium.defined(t)&&(s.position.setValue(t),l.pop(),l.push(t))}
}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),t.handler.setInputAction((function(){l.pop(),o(l),i.entities.remove(s),i.entities.remove(a),s=void 0,a=void 0,e(u),l=[],u=[],t.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),
t.handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),t.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK)}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)},u.prototype.drawTwoPoint=function(e){var t=this,i=this.viewer;t.clear(),
t.num=0,this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);var n=[],o=[];function a(){t.num=0,n.pop(),e(o),n=[],o=[]}t.handler.setInputAction((function(e){var s,l,u=i.scene.pickPosition(e.position);if(Cesium.defined(u)){
var c=Cesium.Cartographic.fromCartesian(u),p=Cesium.Math.toDegrees(c.longitude),d=Cesium.Math.toDegrees(c.latitude),h=c.height;h<0&&(h=0),o.push({longitude:p,latitude:d,height:h}),n.push(u),s=u,l=i.entities.add({id:t._ids.next(),position:s,billboard:{
image:r.default.marker1,show:!0,pixelOffset:new Cesium.Cartesian2(0,-15),eyeOffset:new Cesium.Cartesian3(0,0,0),width:20,height:20,scaleByDistance:new Cesium.NearFarScalar(800,1,5e3,.1),translucencyByDistance:new Cesium.NearFarScalar(800,1,5e3,.1)}}),
t.shapes.push(l),t.num++,2==t.num&&(a(),t.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),t.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK))}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),
t.handler.setInputAction((function(){a(),t.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),t.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK)}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)},
u.prototype.drawMutiPoint=function(e){var t=this,i=this.viewer;t.clear(),this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);var n=[],o=[];t.handler.setInputAction((function(e){var a,s,l=i.scene.pickPosition(e.position)
;if(Cesium.defined(l)){var u=Cesium.Cartographic.fromCartesian(l),c=Cesium.Math.toDegrees(u.longitude),p=Cesium.Math.toDegrees(u.latitude),d=u.height;o.push({longitude:c,latitude:p,height:d}),n.push(l),a=l,s=i.entities.add({id:t._ids.next(),position:a,
billboard:{image:r.default.marker1,show:!0,pixelOffset:new Cesium.Cartesian2(0,-15),eyeOffset:new Cesium.Cartesian3(0,0,0),width:20,height:20,scaleByDistance:new Cesium.NearFarScalar(500,1,5e3,.1),
translucencyByDistance:new Cesium.NearFarScalar(500,1,5e3,.1)}}),t.shapes.push(s)}}),Cesium.ScreenSpaceEventType.LEFT_CLICK),t.handler.setInputAction((function(){n.pop(),e(o),n=[],o=[],t.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),
t.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK)}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)},u.prototype.pickMutiPoint=function(e){var t=this,i=this.viewer;t.clear(),t.clearEvent(),
this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);var n=[],r=[];t.handler.setInputAction((function(e){var o,a,s=i.scene.pickPosition(e.position),l=i.scene.pick(e.position);if(Cesium.defined(l)&&l.id){var u=l.id
;if("_cache"!==u.type)if(0==r.filter((function(e){return e===u.id})).length){var c=u.position._value,p=Cesium.Cartographic.fromCartesian(c),d=Cesium.Math.toDegrees(p.longitude),h=Cesium.Math.toDegrees(p.latitude),f=p.height;f<0&&(f=0),r.push(u.id),n.push({
longitude:d,latitude:h,height:f}),o=s,a=i.entities.add({type:"_cache",position:o,point:{color:Cesium.Color.fromCssColorString("#1700fc"),pixelSize:50,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}}),t.shapes.push(a)}}
}),Cesium.ScreenSpaceEventType.LEFT_CLICK),t.handler.setInputAction((function(){e(n),n=[],t.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),t.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK)
}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)},u.prototype.pickPoint=function(e){var t=this,i=this.viewer;this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),this.handler.setInputAction((function(n){var r=i.scene.pick(n.position);r&&(e(r),
t.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK))}),Cesium.ScreenSpaceEventType.LEFT_CLICK)},u.prototype.clear=function(){var e=this;this.shapes.forEach((function(t){return e.viewer.entities.remove(t)})),this.shapes=[],this.num=0},
u.prototype.getViewPort=function(){var e,t,i,n,r;return{hpr:(e=this.viewer,t=e.camera,i=Cesium.Math.toDegrees(t.heading),n=Cesium.Math.toDegrees(t.pitch),r=Cesium.Math.toDegrees(t.roll),{heading:i,pitch:n,roll:r}),result:function(e){var t={
x:e.canvas.clientWidth/2,y:e.canvas.clientHeight/2};return e.camera.pickEllipsoid(new Cesium.Cartesian2(t.x,t.y))}(this.viewer)}},u.prototype.flyToViewPort=function(e){var t=new Cesium.BoundingSphere(e.result)
;this.viewer.scene.camera.flyToBoundingSphere(t,{offset:{heading:Cesium.Math.toRadians(e.hpr.heading),pitch:Cesium.Math.toRadians(e.hpr.pitch),range:e.hpr.roll}})},u.prototype.contextMenu=function(){!function(){
window.Event&&document.captureEvents(Event.MOUSEUP);function e(){return event.cancelBubble=!0,event.returnvalue=!1,!1}function t(e){if(window.Event){if(2==e.which||3==e.which)return!1}else if(2==event.button||3==event.button)return event.cancelBubble=!0,
event.returnvalue=!1,!1}document.oncontextmenu=e,document.onmousedown=t}();var e=this.viewer,t=this,i=new Cesium.ScreenSpaceEventHandler(e.scene.canvas);i.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK),i.setInputAction((function(i){
var n=e.scene.pickPosition(i.position),r=Cesium.Cartographic.fromCartesian(n),o=Cesium.Math.toDegrees(r.longitude),a=Cesium.Math.toDegrees(r.latitude),s=r.height;c.call(t,i.position,[o,a,s])}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)},
u.prototype.getLonLat=function(e,t){var i=this.viewer.scene.pickPosition(e),n=Cesium.Cartographic.fromCartesian(i),r=function(e){var t=["经度","纬度","高度"],i="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n]
;Cesium.defined(r)&&""!==r&&(i+="<tr><td>"+t[n]+'</td><td style="margin-left:2px;">'+r.toFixed(8)+"</td></tr>")}i.length>0&&(i='<table style="font-size:10px;padding:4px;"><tbody>'+i+"</tbody></table>");return i
}([Cesium.Math.toDegrees(n.longitude),Cesium.Math.toDegrees(n.latitude),n.height]),o=document.createElement("div");o.className="lonlathit",o.style.top="150px",o.style.right="160px",o.style.position="fixed",o.style.background="#252323f2",
o.style.color="#fff",o.innerHTML=r,t.append(o)},u.prototype.doEditModel=function(e){var t=this.viewer.scene.pick(e);t&&t.id.indexOf("model")>-1&&this.eTool.add(t.primitive)},u.prototype.flyCircle=function(e){var t=this.viewer.scene.pickPosition(e)
;this.viewer.scene.camera.flyCircle(t)},u.prototype.editClear=function(e){this.viewer.scene.camera.stopFlyCircle(),this.eTool.destory(),p(e,".lonlathit")},u.prototype.clearEvent=function(){var e=this
;e.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),e.handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),e.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK)}},9788:(e,t)=>{
Object.defineProperty(t,"__esModule",{value:!0});t.eText=[{id:"sqjwd",text:"拾取经纬度",type:"lonlat"},{id:"bjmx",text:"编辑模型",type:""},{id:"rdxz",text:"绕点旋转",type:""},{id:"clear",text:"清除",type:""}]},5970:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0
}),t.default={
marker1:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAfD0lEQVR4Xu19fZRcZZnn73e7qzqJwQDKCpiuBiSpavBrB0cdBBWVGYI7zqA7oy4rrqJn2aPjYebIzsw6Z8fdcY6uzMeZxV3dPehxxkEddhYd3BEQwXwQSCRKAiZdnQTSVR2QkAT5TFK3uu9vz1vdSFfde6vr61bdW/e95+Sf9Pu+z/P83vdX79fzPg9hP4uARSAUAVpsLAIWgXAELEHs6LAINEHAEsQOD4uAJYgdAxaBzhCwM0hnuNlaKUHAEiQlHW3N7AwBS5DOcLO1UoKAJUhKOtqa2RkCliCd4WZrpQQBS5CUdLQ1szMELEE6w83WSgkCliAp6WhrZmcIWIJ0hlvLtfafuXLcHfUKpJcneLqgVZSzktBKAasIrDT/B7AK4jiB4/JwXNBxgscBHIejEj3tnRuZ23f+DB5vWbgt2DUCliBdQ/hiA9PjmV8FeblHFCDkCeQBrOqhCNPUMwD2QthLYq/neZt+gbntFx6EIZP9eoyAJUgXgD40PvaqUXoXOeDbJb0b5GldNNddVWkjHG6Fh/uB0fsLs8ce665BW9sgYAnS5jiYPitb8DxcAeE9JN7cZvV+Fr8V1K2VE9Xvve4Qnuin4GGSZQnSQm8W8ziJxzNXQPxtEVe0UCU2RQT8AsCtI8St60rurQTmYqNcAhSxBGnSSbvXZt7oEFeR/G0Ar+ymPyUddYhZgVUJ8yDnHXjzEgRAcGqtk3IceRrhCEYkZAS81AHOFjDSjfzF5cLDAG52gJvWld3d3baXhvqWIAG9PLV29G1wnI8SuKqTQUBopyc8Y8a8hJeCGAf5sk7a+mUdYYbAIc+cbBEZQqcCmOywTQ/ATRJvmpyt3NFhG6moZgmypJuLa8cug6OPAvid9npfPwWcw6TWSPgVANn26ndc2iWwx5OOEM4oqVeobdLobhA3FUrVr3WsxRBXtAQBMJ0bvUhwrgPwnhb72iyTfkJyHsA5gM5osV4/ih0QWaZqM8xrWhZI3K557wuTB+c2tVwnBQVTTZA9E6vOIKqfpvgHrfS1WTpJztOgzgEw3kqdAZd5SNKTJHMAzm5Rly+OOe7nz57BUy2WH+piqSVIcTzzH0h+WrUZoOlXIbQd4MsEnJ/c0aB7AK5pcVb5mUN8fn3J/WZy7e2N5qkjyNTE6IUQP0vw0mUgfErSLpJrAbyqN3DHopV7AawAanulZT59Zf549brzD+O55UoO699TRZDieOYakNcDWB3WoYKepPAgyHMBGHIM5SdiO1U7On7DMgbeK3rXTZbmDLFS96WCILtPw+qRlZnrAV7TvId5DyBz39Hqen0IBgy3EjpFwHlNjHkO0nWF2epXhsDgtkwYeoKYJRXlmFnjwibIPCTiGIU3tYXekBQmMC/yHkrnqOnhg74ykq1eu24/KkNi+rJmDDVBpnOZDwn8n2FLKgHPg9xB6W3LIpWCAqQOQ5gS+NZQc6lNI55z9brZirmVH/pvaAkyPT72+6L+KnSvQTzIBQePVw99L7dpIKEtAs0dyskhVR+X531w8uDcxjabTlzxoSTIdC77pwI+2+xXEKLxxB1LXI/1SWEH2DMPVAj8yyYiP1Qou3/fJ5UGImboCNKUHNIREEWAFw0E7eQJ9SRtIRm6BCXwx/my+4XkmdaaxkNFkGbkIPCIJ8yRWN8aNLbUCwgsHgmHHmAQuipfrn5jGBEbGoLsHc98xCPDHO5mJK0m+fJh7MS+2ERMQeHew4Tzrnz5xF190aWPQoaCIMVc1njf3hyCm3ETH+/Fe4o+9kssRUkokzB+XYGf6L1l2C4UE0+QZchxIF2Xfn3h1YlFVxWfMEGHRhxctn6murMvmvRBSKIJ0owcBHYKeH0fMEydCJKPSDWPZv9HPJh13F8/5wAODQMwiSVIMTf6FsAxr+Fe4usI1sLi2M14lCOUugviO0NEfKNQdjt6jRmlyp20nUiCPHwO1rjz2TtCXEN+TsBTl2/IOwEzbXXk4Z/p4N1Bdou8brJU+YukY5JIghTHx24EdXUA+M8B2gXwLUnvmKToL/BuQu8IJIn4G5OzlR8kxZbgFWPCtC/mxq4F9Nch69/7IPxawkwaBnWNK7zfGXQI9iOJmkH25la8y4Nn9h0LQXKWfuJGUG8fhtGWQBseFTFHYSJg135joVz5eAJtqqmcGIKYNx2jK7ObFegbxK2A7LJqgKNQwrawSJPyvEuS6tiYGIIUJ7Kfg/CZxjFAYMqDXkHQRPGw3wARcKiNnuibxSnckp913zdA1ToWnQiCLD562tK4tBJqj5z2g3htxwjYir1G4KGgwBAi3jdZcm/ptbCo20sEQYq57K0AftO/7eAm+9gp6iHSXvuhjo3SxsJs9ZL2Wht86dgTZDHQwpcDoAr8pRo8pFYDoPa23/ekgNTH86XqjUlCKNYEqQV28+bM5s/nILecC3aSOmEIdT0gaE3jvpDAj/NlN1Hv/mNNkOJ49jMgPhdwdBj4CzWEAy2xJonBy19CH86Xq3+XFMNiS5AHzsLJq7zsTxojH9biVoFPWy/dRAyxIoBCnabUpkKpmpj7qtgSZHp87A9E/aVvGJhUY/QfJSZiuKRMSUGbGRwh5XcLZff/JAGOWBJk37kY89za7NEYC9cEVDZhMIcl4uHzAA7VjqsBkz8kTlHiezF+jxn7fLM9cXuh5G7ohYCo24glQUxgabAWz6ruk7SpWQCBqMHqsv1nAe5CzSVDpwv4FwCCLjd/DuAoIEOckwle0KXcgVYP3YuQl+dLldsGqlwLwmNJkOlcdruANzbob6L5HUxeIOlajKnRxfA5Jmh0W5+AnxPcT2iFgF9tq3IMCi/uGc0rxDOXqiPohsly9VMxULGpCrEjyHRuxTsF74eNWhPa3DTiX/yQvg/ES6De3fILuI89brMvsJEboXpHUgH7J8vuur7I70JI7AgyNZ75EslP+AmC3QnJzzEN4BlE+GtPcAugNyopge+IB4N+KJiAZVasCGLSLeN4dsqfUVb3AmwWfLqL34jeVSVqJDZpE/oRsfFhUKdAiXHSfGQhXd2LXxKWWbEiyHQuc5XAv/UNWeI2CPE+9RAeApfNCXicwi5QVYCnmhTPANZAWAlHT0F8FsDzBB8XvJcBXC7JjdmXHek2RXXvfiLCWwo68k3CMiteBBnP3iLiivqjK+xVLe1xfHN2SNhOhqdOMDOLRx2haLyOT2l5QAqPgJwBZNI9hx4BS9hF4nUttzuAghS2KwgjjxsKByu3D0CllkTGhiD7Xrly7fzI/GyA1v8I4F+3ZM1gCt0E4Mog0SZFs4gZCMZxz8wWHX7cR2ivEBwgwTRK4oAU4x8R4HlHOq6G6JYEPp8vu/+pQ2AirxYbgjSJcfW9IFf3yJFpQQChHwp8Vwg5iqIOQeGBn1sQ0TCZ1rJBhb2c3CFgPbsiYrsatVeewjYRJqr+0u/eQtmN7WvQ2BBkaiLzVxR/vwE8E6HPXKjVnaG31y2RlX4MRAXBv9r7gJoHcs836wRmBJwVYtV9QJyDVgS7wc877hnnz+DxyHqqi4ZjQ5BiLmsiY9RFJBFxO4XLurAvsqph9zIS9kYdQZ7UExLND0fAV0v3HM/0Dib1hBqcFwGIuHIypimnY0GQHWdi1erRrPFLqv/I2yDF7vRKwE8ZkEbZ3Bo7wJwQNnh7yFfhn0D8VkCLgW8xeii5q6YIHRVo/M5e/MSvFmYrH+uq4Ygqx4Ige3JjlzpQQIAx3Q8wju4VPw3KMx56UhNR5yHghtqIirPPWsiPy4FC2Q2O9RsVdi22GwuChCS+MZ6gmcV/LZoTfTER2yjfRhPmdlvQxdFrsOSHF7V1+wkG7EkIPBrL8KviFtCP00jWXbNuf80DIVZfLAgyNZH9FoUPLEWG0E6BsYvOHkYQQFsHEfKU5G0KWIZS2i4yds9bPWLKCUjEMwKcv67s7okVO+ISOG4qlzVr+rpkkZI2k03SEQ8OSfOrfXqdeHITBpdK+jEI8yDGGyDZAeANg4MpVLJZGaxq/KvEyyZnKyZqZqy+WMwgxVxtg14HGqXNihtBiGkIeX/n6odk8H1IX3qb3Ar57keM28pJfZHfvhDjIlN/BE59rFCqfrX9pqKtMXCC7D9z5fjc6HzZZ6annXBitsQK2RQDeHTA/lD3B3oPxxHD2ikCDoL1r0IJfDZfdv9LtMO9/dYHTpDQEyzpKNhwHNi+fT2tEbQRj+teacHwmMYsDpqJY3rUO3CCTE1kPknxhqUjWdJRxowci/r9BEDDE9ja24y+nl4FsV5EyRddPa4R78lpSI1L1TsKZTd2l8IDJ0hQUOq4/ioT2L/43uOXYzTszXVPp67WGvNtyuN70FHzUG50l/lpoezG7v39wAkS4oMVvKZubaBEWcq38SWxTQH3IlEqETiDBIfY+TH8b/v7rVqQvBLgyyUyUyi7Z8dBuaU6DJwgxdzYlwFdU7/ECs81MWAA/QQJ9lDtu5ohvmGxJAiBg/KHbnqmUHbX9B24ZQQOnCDTuezXBXy4jiBo6tY9MAyDlliIzzrf5/4S2yWW8DjYcJdkAp6V3ewbgOrAOjhA8MAJUsxlbwbwO/XTWmwjmARt0uOS3eox37OA+JC3buhJepL0v6WvjrinvyZm+dUHTpDpXPZ7Av5VA4KbwN49NOrVL1LQMa+IvRx8TvZfBD/ljecxL4HnFZDf3iHOW19yTdCO2HwDJ0gxl7kLYH0a4bjG3w25KHSEfR4xwBhPIUSI60Uh4AUmYoV3UaE8tzU27IiDL1Yxl/1735vu8BvrgWK3GNanMV4wHPBOD7p0cMoFEEQ6gob334PTzyfZvxwEMOpx3bkHK/tjpOfgs9wGubqL2k7FzxN1sePMc9q62ULCDnIwjoEEDwnKNi6xBP2QIe/lBz0ABTzQ6JxqdCqU3YGvaBqxGbhCxYnslRDMLPLiJ+zDQJcs4UMoLFCDyZ4UEE84+rEY9mgK3EzordEr0L6EoCPpuMbIGjhBdq/NvGnE4bYGmE2wY/Pv5Pbhj7iGsAMBs8UgCGJmDw+eeaz1igarTYR4Eyi79RhcEcNW9/tHbWJjtBfhtsKse3kf1WhJVAwIglNHnOzRRm1FPkCp7o1ISxb1p5AJMOELhdp3koTNHiHpz/oDTUtS/G4xMY32PnCCGDiLuRpB6nNlELcjphFNBOwhau9CRhqWhs850HGPPK2lYdJNoZBHWqG6dSOrx3VFlKn6xKwO+Kn15Uqd02qPxXbUXCwIMj2RNf5Mjc9DzQXi73ZkVT8qSWF3NWZ5E2mmKFKHpVASBs5u/YCkRRnzvh+WWmTIeCbUiQVBgo56JXyLxAdbBH0QxQwRTGf70sGR2CnVQo1GEanjZwBeHWiw8GPQl3hoENg0k+mL8m4Kx/GI1+gVC4IEHvUC/8h4x+TF4nLmvJDR8Kjobaec9/ZqhJL4ZykkPq9QBmGWdit7JS+KdsICfcfxiDc2BAk66hV0J8EBXr61PDyMa4SJvh72fV/gekImb0hHnyQTPf4YwEtCG5AOox97n44seLFS0PuZuB7xxoYgu3PZ80aA3Y3Yx/mya6muYRdfL5SRUKajRyCaFAXtHL0+AmjGpJ4jMBo6NokyGja9XY7jyKqT2CX5UjX8Q6Hs1oV9ikyBNhuOxRLL6Fwcz+5EY44L6WsgP9qmTYMqbvJ+13klByhyQsQUpeME14Ql0AF5FNLLQ/caLzZsosEcaKHcoDCpk0vgEQXsy+K6QY/NDFIjSC77hwC+0NCT5mWh+dU1rhSx/0h8V4JZFr4kamUFbXXEnPzxsKIW3XH7Eu8kG3zWqMOFUjUkEHfHonpWMTYzyP61Y+fOOTJ+TnWfQ9ziCT3b6PYMufCGTMoG8+gnspjCxu3egy5gQAC2PtjXjQifHxulv8zPVj/dTaNR1o0NQRZnEePqXHdDTeBmxfk+JLx3bBroJdgQul8BgcgpvTE/WzUrhVh+sSLI3tzY73nQf69HSkcAPg3gVbFEcFmltAWgOXp9TUcJdRZOp/YRyCjCWWlZM7otINwB4jeWNkPggXzZXS5RabeSu6ofK4KELbMkfIeNyT27Mrv/lVXLXotpgMcJvUwLmbPq3WsW1DIXkEcBPSU4pxDyvT/pv/ZdSzQXqocbYxqLvG6yVPmLrluPsIFYEcTYOZXL/MB//6EfNb0DiBCgiJs2p1CHBBwjYJLKROqiErEtoc075EZPeruvwAgLhQOV6UHp1Yrc2BEkeJllTNEOgHGMVt4KzqkuQ3CzGt6mEPh/+bL7m3EHJnYECV1mJedmPe593lf9uBCo2iwp61xgBF0zWa7+r74q04Gw2BHE2FAcz34fRF1uQuOOQKBjd40OsLFVeoEAtSkgFfYxaHRdYfaYeZse6y+WBAlbZoVllo01wulWzkQv2Wuemy+FwXhqT866/yYJ0MSSIHsmVp3haM6cjb9yKYjmFEjCq8AmfklJQD0lOoYlQRL4nsly5XtJgCGWBKktsyayfwLhzxpBVHCQ5iRgnTYdTRYpkxipPl5YTN+eh3VObAmy73ScNp/Nmllkom56BvY7wCsbN31pG32xtzfkSTCJ9+ZL7ndir/+igrEliNFvOpf9IwGf94E52KSZSenbQepZu99pfFFJ6M58ufrrg1SsXdmxJsiDOZySRW0WaXQzOQDhNBCr2zXYlo8eAUfc6DHgYhB4f6HsmlgDifliTRCD4tTE2KcpXe/bi8Q/tE1iBkGPFX0GxJMQGjJI6UeFcrU+BnOPBUfRXOwJ8sRpWP3kyqyJo1Sf024hdMxLFcfgclH0VELaDEtJJ+LKyZL7zYSY8Us1Y08Qo2kxN3YtoL/2zSLiRgZP5Unrh6HQV8CThHk735jimVvy5Uosw6AuB3wiCHLgLKyoeLW9SF24GwmP0QRujm8U8+XwH66/hyTsIfThfLn6d0k0NhEEWdiL+NNF1wCPaaqEJA6GbnQm9IRA49Ze55EsYdvkrPtr3bQ9yLqJIciPgNEzc9n7Bbx+KWCCDnGhY84cJJCplx32Q0VdXShVv5ZUfBJDkNpeZDxzDcgv+/Yi9nZ90OPPxAYzKZxNRPml345C2Y3sbX4/jE4UQRY27Fnfu/UFoLQTYN3s0g8ArQzALKNIvNmHhXR1YTa5s0dtBZ+0Dp6eyF4h4ZYAvX0h9ZNmWzL11T0AL2rUncJ38rNukqLRBMKfOIIsziLmRORDvk6Btgi8OJkDLXlaC3qS4FMBQbrnPEcXnzdTbUyMlDgjk0mQtdnXwoFZatW7mhAzkE4CaN532y9qBMJSQBB/Xii5fxK1+H60n0iCGGCCIsKb//ekTU4Mc6z3ozP7KiMsxTTxIFa4FxWm8Wxf9YlIWGIJsvs0rB5Zld0K4bUN2EjAbobl0IgIyBQ2G7jnS6pLSVj/JZYgC7NI5kMCfTe0YTkoUjiIIzE57NGaiG9Pltw4Jz1qG49EE8RYOzWevSU4qBy3AnpL24jYCsshcHAxhVpjDK/nHEcXr5+pmtjEQ/MlnyAToxdSjtmwN377IJxh34z0dqwGxbiqSSD+c6Hk+p5I91Z6/1tLPEEMZMXx7PUg/BHCpY0g/RH9+o/zsEg0DqO+m3GT/nputXvx+XvgDouhL9gxFAR55Gy8ojqf3Sr/y8PjBEpqCDszbJ3YN3vMCZX/UAQO8b71JTfo8rZvqkUlaCgIsjCLBPtpmV83IfaZX6Pq3961GzIbE/h6vux+pHeC4tXS0BCkRpJc9g4AvqAAHrnJkd4WL+gTpc1PAFwQoPFROrgoP+MWE2VNG8oOFUH2jI++1aFzl0m73YCBWRubKOImR4f92kDApG0AUCIQkO6a1xbKlb9po7nEFR0qghj0p3LZP2JQqCDr7dvZ4AyOrQsKt+Rn3fd11mhyag0dQRaXWrcC8IfWt6dabY3MMDd2mQQ/Hi6ZPOg+1FaDCSw8nARZcGa8GwtJaRq/sPV0ArsvOpXNE1qAzwacDILUJ/Ol6v+ITnp8Wh5KgtRmkdDXh9hjwpmyD6ma49PN7WtiMukKCno6cHOh7L6//RaTWWNoCbK41Ap8N4KQdXUyuzAKrXkPIN8jKPP+f4S8ZH3JNU9sU/ENNUH2nL1iYmTeuytomRD6TDQV3d7UyBKEDOgPgpGUrFC97MKhJkjtVGs8+0ESvoh+BB4GdJJAk23Wfi8g4OFeOPW56mt/Er5ZmHWvTBtQQ0+QBZJkbiD5ycbObbLOTts4WOSANhMMioD4qOfxkvMOVvalDZhUEOThc7DGncveTSAgaX3wejt1A4G17F1mNj3FZzv1sUKp+tW0YWLsTQVBjKHTE2MbJH3f38m148ynfZmQ0jcawo6/v1Eou1elD44Fi1NDEGNscTz7ZyCCggmkOmSQqE0Ug3zVSqBzSaF04oAlSEoQmMpl7iT4roBlxEYolW9H7gMQGDuX0FX5cvUbKRkagWamagapbdhzmQsI/gDAqQGIhA6WoRwkwoyALAOOdAH9TaFcvXYo7W7DqNQRpLYfyWU+LvB/B+Bk3lubQNh1iUPbwDNRRUlsl/Amv9K8Z8ypXHr2DE4kyqAIlE0lQWr7kdzYVwD9+0ZMUxMRJTxtxDHRu3SyNHdvBOMtcU2mliAPnIWTV3pZs9TyRx8f8pwjFLaLQTOHuQ/kpybLlRsSN5IjUji1BKnNIhMr3gF5dwJwAvD9MYbzqe5jAlyiMcmmIQf+drLs/ruIxloim001QRZIMnYdpC829p5xRRGwqjFjUiJ7eYnSAu5j8KnVQ9kR99JzDtTym9tvEYHUE6S2aZ/IfkvCB3yjIswvKaHDJywDrTGH5LvzpUrARWpCje2R2pYgAIzXrzNfW2qt823ahycfe/hDsSEN+tYLjliCLKI4NZF9L4X/GwiqsAPEG3oB+CDaIHhI1NMQ1vvkE98tlNwrBqFXEmRagizppeJE9nMQPhPQcQcIjAoYT0Kn+mbB8H3HLEZ4aeFAxUR8sV8AApYgDaAUx7O3gbgsAKtknmo1ObIetlQFUTDcEqSRIAsBH24LSistaROTlZynmevMFwtl9w+jGFTD1KYlSEBv7hnPvt8hvh3U0UxIHkQB+x3gJQIa0xSAxHfzdt/REo8tQUJgCkvxZiINUngY9GW2agnwPhXyAJg8HQEPxDDljTgbzjtwotQnXRItxhKkSfdN57LfFuALcSOgSOjlAF8ey94Pi4YIzBPcsL5cMUfa9msBAUuQJiDNTKw64wTmbg8K+Y/YXiJqC0JSYYv6vclS9UstjAtbZBEBS5BlhsKiv9btADK+41NyI6XYJOiRtIukuetY2agroRvy5eqn7MhvDwFLkBbwmp7IfEJi2C+vcQu/sIVmIi0i6KgDPiFgMkDQHd8uu5d/FjB7E/u1gYAlSItgTY1nvkTyE75fZukwyKODz2IVmrR0hg42DHMOjxa7sKNiliAtwrbjAmRWH87cDvAdPpIQu6SaH5fx/u3/J24EQ5Z64m8VZism2r39OkDAEqQN0IpNLhEHFYSu2eMnkP+xUKpc34aJtmgDApYgbQ6JZpeIDrnR6++m3YTjMYcHa/1m8MZCufLxNs2zxS1Buh8DYZeIiy33zWeLwP0KTMvMzScqlctfd6iWPs1+XSBgZ5AOwQu7RAQwuxgZ5awOm26tmrQJAX5hJkXBKLFhXan6QGsN2VLNELAE6XB8NL1EBCKN1NjMH4zCB/Kz7j90aJatZpdYvRsDzS4RI0zS87PFuF0nNVpC4E/zZfe/9s5C25KdQbocA80uEQltVnA6gU6lPi3hIInzAxq4qVB2/22nDdt6wQhYgvRgZIRdIgKoAJoC+PoeiDGhFQJTowHYwTl3Q/4xHOmNHNvKCwhYgvRgLDS9RFwIH3QagJd2I4rENglvDmjjGdHbYCMhdoNueF1LkB7h2uwSEcAMAgK1tSE6tL4jfWT9bPXrbbRli7aBgCVIG2AtV7TZJSKguwC+c7k2fH9v9qYc+MJk2f3jttu0FVpGwBKkZahaK9jsEtFEU/eE1UTgJrtRQEXUtpDENib1kQ3X01qXdFXKEqQr+IIrF8czPwJDk/G4IO+FdHaTNAv3gxgLfKi1IPKpQtn15xKMwJa0N2kJEtEImB7P3iKiaUA2QjsF53nQq8qDQ3LFYnTHJoNfR35erp5xCTAXkeq22SUIWIJEOByK42M3grq6ZyKEXceq7qW/8jgO96xN21BTBCxBIh4gxYns1yB8pHsxutvznGvSmKu8e+w6b8ESpHPsWq65Zzz7AYe1kKavbrnSiwWfBfDnhbL73zqoa6t0iYAlSJcAtlp991qcmnHGrvSkDSA2LFfPnHhBuI2O/mn9TNXEuLLfABCwBBkA6LNrsfLYyNjbKZw7D28dxXNBHIEw7Tgoan5kW/7g8UcHoJoV2YCAJYgdEhaBJghYgtjhYRGwBLFjwCLQGQJ2BukMN1srJQhYgqSko62ZnSFgCdIZbrZWShCwBElJR1szO0PAEqQz3GytlCBgCZKSjrZmdoaAJUhnuNlaKUHAEiQlHW3N7AwBS5DOcLO1UoKAJUhKOtqa2RkCliCd4WZrpQQBS5CUdLQ1szMELEE6w83WSgkCliAp6WhrZmcIWIJ0hputlRIELEFS0tHWzM4QsATpDDdbKyUIWIKkpKOtmZ0hYAnSGW62VkoQ+P836PZQw65sDQAAAABJRU5ErkJggg=="
}},3177:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(1002),o=(n=r)&&n.__esModule?n:{default:n};t.default={__init__:["plan3d"],plan3d:["type",o.default]}},6375:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})
;t.FITTING_COUNT=100,t.HALF_PI=Math.PI/2,t.ZERO_TOLERANCE=3e-6,t.TWO_PI=2*Math.PI,t.ERADIUS=6378137,t.PRADIUS=6356725},2566:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i]
;n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=a(i(9964)),o=a(i(7680));function a(e){return e&&e.__esModule?e:{default:e}}
var s=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.properties.plotName="线",n.properties.plotType=o.default.POLYLINE,n.minPointCount=2,
n.properties.style.width=Number(n.properties.style.width)||10,n.properties.style.color=n.color,n.generateEntity(),n}return function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"generateEntity",value:function(){var e=this;console.log(6666),this.lineEntity=this.viewer.entities.add({plotType:"MilitaryPlot",plotCode:this.properties.plotCode,
polyline:{positions:new Cesium.CallbackProperty((function(t){return e.positions}),!1),width:this.properties.style.width,clampToGround:!0,material:new Cesium.PolylineDashMaterialProperty({color:Cesium.Color.fromCssColorString(this.color)}),
depthFailMaterial:new Cesium.PolylineDashMaterialProperty({color:Cesium.Color.fromCssColorString(this.color)}),classificationType:Cesium.ClassificationType.S3M_TILE}})}},{key:"updateStyle",value:function(){
this.lineEntity.polyline.material.color=Cesium.Color.fromCssColorString(this.color),this.lineEntity.polyline.width=this.style.width}},{key:"generate",value:function(){this.getPointCount()<2||this.generatePositions(this.coordinates[0])}},{key:"toGeoJson",
value:function(){return{"type":"Feature","properties":this.properties,"geometry":{"type":"Polyline","coordinates":this.coordinates}}}},{key:"setSelected",value:function(e){}},{key:"remove",value:function(){this.viewer.entities.remove(this.lineEntity)}}]),t
}(r.default);t.default=s},5177:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),
Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=a(i(9964)),o=a(i(7680));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,i){!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t
}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.properties.plotType=o.default.MARKER,n.properties.plotName="Marker",n.generateEntity(),n.fixPointCount=1,n}return function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"generateEntity",value:function(){var e=this;this.markerEntity=this.viewer.entities.add({plotType:this.properties.plotBase,plotCode:this.properties.plotCode,
position:new Cesium.CallbackProperty((function(t){return e.positions[0]}),!1),billboard:{image:"static/images/Plot/location.png",scaleByDistance:new Cesium.NearFarScalar(300,1,1200,.4),distanceDisplayCondition:new Cesium.DistanceDisplayCondition(0,1e4),
verticalOrigin:Cesium.VerticalOrigin.BOTTOM}})}},{key:"toGeoJson",value:function(){return{"type":"Feature","properties":this.properties,"geometry":{"type":"Point","coordinates":this.coordinates}}}},{key:"generate",value:function(){
this.getPointCount()<1||this.generatePositions(this.coordinates[0])}},{key:"remove",value:function(){this.viewer.entities.remove(this.markerEntity)}}]),t}(r.default);t.default=s},6165:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})
;var i=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()
;var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewer=t,this.addPoint()}return i(e,[{key:"addPoint",value:function(){
this.mousePointEntity=this.viewer.entities.add({point:{pixelSize:8,color:Cesium.Color.AQUA,outlineWidth:1,outlineColor:Cesium.Color.WHITE}})}},{key:"updatePosition",value:function(e){this.mousePointEntity.position=e}},{key:"remove",value:function(){
this.viewer.entities.remove(this.mousePointEntity)}}]),e}();t.default=n},117:(e,t)=>{function i(e){return Cesium.Cartographic.fromCartesian(e).height}function n(e){var t=Cesium.Cartographic.fromCartesian(e);return{x:Cesium.Math.toDegrees(t.longitude),
y:Cesium.Math.toDegrees(t.latitude),z:t.height}}function r(e){var t=Cesium.Cartographic.fromCartesian(e);return[Cesium.Math.toDegrees(t.longitude),Cesium.Math.toDegrees(t.latitude)]}function o(e,t){
var i=e[1]*Math.PI/180,n=t[1]*Math.PI/180,r=i-n,o=e[0]*Math.PI/180-t[0]*Math.PI/180,a=2*Math.asin(Math.sqrt(Math.pow(Math.sin(r/2),2)+Math.cos(i)*Math.cos(n)*Math.pow(Math.sin(o/2),2)));return a*=6378.137,a=Math.round(1e4*a)/10}
Object.defineProperty(t,"__esModule",{value:!0}),t.getPlotCode=function(){var e=new Date,t=e.getFullYear()+"";return t+=e.getMonth()+1,t+=e.getDate(),t+=e.getHours(),t+=e.getMinutes(),t+=e.getSeconds(),t+=e.getMilliseconds()},t.unifiedHeight=function(e,t){
t||(t=i(e[0]));for(var r=void 0,o=0;o<e.length;o++){var a=e[o];r=n(a),e[o]=Cesium.Cartesian3.fromDegrees(r.x,r.y,t)}},t.getPositionHeight=i,t.cartesian3ToPoint3D=n,t.midPosition=function(e,t){if(!e||!t)return null;var i=n(e),r=n(t),o={x:(i.x+r.x)/2,
y:(i.y+r.y)/2,z:(i.z+r.z)/2};return Cesium.Cartesian3.fromDegrees(o.x,o.y,o.z)},t.cartesian3ToLonLat=r,t.get2PositionDistance=function(e,t){var i=r(e),n=r(t);return o(i,n)},t.distance=o},9964:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0})
;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}
}(),r=i(7819);var o=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewer=t,this.properties=i.properties,this.properties.plotBase="MilitaryPlot",
this.coordinates=i.geometry.coordinates,this.style=this.properties.style,this.initConsts(),this.setPoints(this.coordinates[0]),this.geoFeature=i}return n(e,[{key:"initConsts",value:function(){}},{key:"UpdateStyle",value:function(){
console.log("updateStyle")}},{key:"setPlotCode",value:function(e){this.baseInfo.plotCode=e}},{key:"openEditMode",value:function(e){}},{key:"setHeight",value:function(e){this.style.height=e}},{key:"getHeight",value:function(){return this.style.height}},{
key:"setPoints",value:function(e){this.coordinates[0]=e||[],this.coordinates[0].length>=1&&this.generate()}},{key:"getPoints",value:function(){return this.coordinates[0].slice(0)}},{key:"getPointCount",value:function(){return this.coordinates[0].length}},{
key:"generate",value:function(){}},{key:"generatePositions",value:function(e){this.positions=(0,r.poin2dsToPoint3ds)(e,this.getHeight())}}]),e}();t.default=o},1522:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=p
;var n=c(i(6165)),r=c(i(6378)),o=c(i(7680)),a=i(7819),s=i(6375),l=i(963),u=i(117);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){this.b3d=e,this.viewer=e.viewer,
this.viewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this.initEvents()}p.$inject=["b3d"],p.prototype.activate=function(e){this.plotType=e,this.clear(),this.points=[],
this.MousePoint=new n.default(this.viewer),this.registerEvents(),this.viewer.enableCursorStyle=!1,this.viewer._element.style.cursor="default",this.initMouseTip(),this.PlotDrawStartEvent.raiseEvent()},p.prototype.initMouseTip=function(){
switch(this.plotType){case o.default.MARKER:break;case o.default.POLYLINE:case o.default.SQUAD_COMBAT:case o.default.TAILED_SQUAD_COMBAT:break;case o.default.ELLIPSE:case o.default.CIRCLE:case o.default.RECTANGLE:case o.default.FINE_ARROW:
case o.default.ASSAULT_DIRECTION:break;case o.default.POLYGON:case o.default.ATTACK_ARROW:case o.default.TAILED_ATTACK_ARROW:case o.default.CLOSED_CURVE:break;case o.default.GATHERING_PLACE:case o.default.SECTOR:case o.default.DOUBLE_ARROW:}},
p.prototype.getPlotNam=function(){switch(this.plotType){case o.default.MARKER:return"点";case o.default.POLYLINE:return"线";case o.default.POLYGON:return"面";case o.default.ELLIPSE:return"椭圆";case o.default.CIRCLE:return"正圆";case o.default.RECTANGLE:
return"矩形";case o.default.CLOSED_CURVE:return"曲线面";case o.default.SECTOR:return"扇形";case o.default.FINE_ARROW:return"直箭头";case o.default.ASSAULT_DIRECTION:return"突击方向";case o.default.ATTACK_ARROW:return"点进攻方向";case o.default.TAILED_ATTACK_ARROW:
return"进攻方向尾";case o.default.GATHERING_PLACE:return"集结地";case o.default.SQUAD_COMBAT:return"分队作战";case o.default.TAILED_SQUAD_COMBAT:return"分队作战尾";case o.default.DOUBLE_ARROW:return"钳击"}},p.prototype.deactivate=function(){this.unRegisterEvents(),
this.plotType=void 0,this.viewer._element.style.cursor="pointer",this.viewer.enableCursorStyle=!0,this.MousePoint.remove(),this.MousePoint=void 0},p.prototype.clear=function(){this.plot&&(this.plot.remove(),this.plot=void 0)},
p.prototype.generatePlot=function(e,t){var i={"type":"Feature","properties":{"plotCode":(0,u.getPlotCode)(),"style":{height:t}},"geometry":{"type":"Polygon","coordinates":[e]}};this.plot=r.default.createPlot(this.viewer,this.plotType,i),
this.plot.openEditMode(!0)},p.prototype.initEvents=function(){this.handler=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas),this.PlotDrawStartEvent=new Cesium.Event,this.PlotDrawEndEvent=new Cesium.Event},p.prototype.registerEvents=function(){
this.leftClickEvent(),this.rightClickEvent(),this.mouseMoveEvent()},p.prototype.leftClickEvent=function(){var e=this;this.handler.setInputAction((function(t){e.viewer._element.style.cursor="default";var i=e.viewer.scene.pickPosition(t.position)
;if(i||(i=e.viewer.scene.camera.pickEllipsoid(t.position,e.viewer.scene.globe.ellipsoid)),i){var n=(0,a.point3dToPoint2d)(i),r=Cesium.Cartographic.fromCartesian(i);if(0==e.points.length)e.points.push(n),e.generatePlot(e.points,r.height);else{if((0,
l.distance)(n,e.points[e.points.length-1])<s.ZERO_TOLERANCE)return;e.points.push(n),e.plot.setPoints(e.points)}e.setMouseTipContent(),e.plot.fixPointCount==e.points.length&&(e.drawEnd(),e.deactivate())}}),Cesium.ScreenSpaceEventType.LEFT_CLICK)},
p.prototype.setMouseTipContent=function(){switch(this.plotType){case o.default.POLYLINE:case o.default.SQUAD_COMBAT:case o.default.TAILED_SQUAD_COMBAT:break;case o.default.ELLIPSE:case o.default.CIRCLE:case o.default.RECTANGLE:case o.default.FINE_ARROW:
case o.default.ASSAULT_DIRECTION:break;case o.default.POLYGON:case o.default.ATTACK_ARROW:case o.default.TAILED_ATTACK_ARROW:case o.default.CLOSED_CURVE:break;case o.default.GATHERING_PLACE:case o.default.SECTOR:case o.default.DOUBLE_ARROW:}},
p.prototype.mouseMoveEvent=function(){var e=this;this.handler.setInputAction((function(t){var i=e.viewer.scene.pickPosition(t.endPosition);if(i||(i=e.viewer.scene.camera.pickEllipsoid(t.endPosition,e.viewer.scene.globe.ellipsoid)),
i&&(e.MousePoint.updatePosition(i),e.plot)){var n=(0,a.point3dToPoint2d)(i);if(!((0,l.distance)(n,e.points[e.points.length-1])<s.ZERO_TOLERANCE)){var r=e.points.concat([n]);e.plot.setPoints(r)}}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE)},
p.prototype.rightClickEvent=function(e){var t=this;this.handler.setInputAction((function(i){0!=t.points.length?(t.plot.fixPointCount?t.points.length==t.plot.fixPointCount?(t.plot.setPoints(t.points),t.drawEnd(),t.deactivate()):(t.deactivate(),
t.clear()):t.points.length>=t.plot.minPointCount?(t.plot.setPoints(t.points),t.drawEnd(),t.deactivate()):(t.deactivate(),t.clear()),e(t.points)):t.deactivate()}),Cesium.ScreenSpaceEventType.RIGHT_CLICK)},p.prototype.unRegisterEvents=function(){
this.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK),this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),this.handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),
this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK)},p.prototype.drawEnd=function(){this.plot.openEditMode(!1),this.PlotDrawEndEvent.raiseEvent(this.plot,this.plotType)}},6378:(e,t,i)=>{Object.defineProperty(t,"__esModule",{
value:!0});var n=w(i(7680)),r=w(i(8585)),o=w(i(6060)),a=w(i(5469)),s=w(i(6062)),l=w(i(8904)),u=w(i(5324)),c=w(i(2256)),p=w(i(9544)),d=w(i(5431)),h=w(i(7993)),f=w(i(9020)),m=w(i(1246)),A=w(i(1797)),g=w(i(1835)),v=w(i(3985)),C=w(i(5177)),y=w(i(2566))
;function w(e){return e&&e.__esModule?e:{default:e}}var P={createPlot:function(e,t,i){switch(t){case n.default.POLYGON:return new r.default(e,i);case n.default.DOUBLE_ARROW:return new f.default(e,i);case n.default.ATTACK_ARROW:return new d.default(e,i)
;case n.default.ELLIPSE:return new s.default(e,i);case n.default.CIRCLE:return new a.default(e,i);case n.default.FINE_ARROW:return new c.default(e,i);case n.default.TAILED_ATTACK_ARROW:return new h.default(e,i);case n.default.ASSAULT_DIRECTION:
return new p.default(e,i);case n.default.GATHERING_PLACE:return new m.default(e,i);case n.default.CLOSED_CURVE:return new o.default(e,i);case n.default.SECTOR:return new l.default(e,i);case n.default.RECTANGLE:return new u.default(e,i)
;case n.default.SQUAD_COMBAT:return new A.default(e,i);case n.default.TAILED_SQUAD_COMBAT:return new g.default(e,i);case n.default.MARKER:return new C.default(e,i);case n.default.STRAIGHT_ARROW:return new v.default(e,i);case n.default.POLYLINE:
return new y.default(e,i)}}};t.default=P},7680:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default={ARC:"arc",ELLIPSE:"ellipse",CURVE:"curve",CLOSED_CURVE:"closedcurve",LUNE:"lune",SECTOR:"sector",GATHERING_PLACE:"gatheringplace",
STRAIGHT_ARROW:"straightarrow",ASSAULT_DIRECTION:"assaultdirection",ATTACK_ARROW:"attackarrow",TAILED_ATTACK_ARROW:"tailedattackarrow",SQUAD_COMBAT:"squadcombat",TAILED_SQUAD_COMBAT:"tailedsquadcombat",FINE_ARROW:"finearrow",CIRCLE:"circle",
DOUBLE_ARROW:"doublearrow",POLYLINE:"polyline",FREEHAND_LINE:"freehandline",POLYGON:"polygon",FREEHAND_POLYGON:"freehandpolygon",RECTANGLE:"rectangle",MARKER:"marker",TRIANGLE:"triangle"}},963:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),
t.merge=t.isObject=t.splitWords=t.trim=t.stamp=t.getuuid=t.getQuadricBSplineFactor=t.getQBSplinePoints=t.getBinomialFactor=t.getFactorial=t.getBezierPoints=t.getCurvePoints=t.getRightMostControlPoint=t.getLeftMostControlPoint=t.getNormal=t.getBisectorNormals=t.getArcPoints=t.inherits=t.getThirdPoint=t.getCubicValue=t.getPointOnLine=t.isClockWise=t.getAngleOfThreePoints=t.getAzimuth=t.getIntersectPoint=t.getCircleCenterOfThreePoints=t.mid=t.getBaseLength=t.wholeDistance=t.distance=void 0
;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.preventDefault=function(e){
(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1},t.bindAll=function(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))};var r=function(e){if(e&&e.__esModule)return e;var t={}
;if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(6375));var o=t.distance=function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))},a=t.wholeDistance=function(e){var t=0
;return e&&Array.isArray(e)&&e.length>0&&e.forEach((function(i,n){n<e.length-1&&(t+=o(i,e[n+1]))})),t},s=(t.getBaseLength=function(e){return Math.pow(a(e),.99)},t.mid=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]},
t.getCircleCenterOfThreePoints=function(e,t,i){var n=[(e[0]+t[0])/2,(e[1]+t[1])/2],r=[n[0]-e[1]+t[1],n[1]+e[0]-t[0]],o=[(e[0]+i[0])/2,(e[1]+i[1])/2],a=[o[0]-e[1]+i[1],o[1]+e[0]-i[0]];return s(n,r,o,a)},t.getIntersectPoint=function(e,t,i,n){
if(e[1]===t[1])return[(n[0]-i[0])/(n[1]-i[1])*(e[1]-i[1])+i[0],e[1]];if(i[1]===n[1])return[(t[0]-e[0])/(t[1]-e[1])*(i[1]-e[1])+e[0],i[1]];var r=(t[0]-e[0])/(t[1]-e[1]),o=(n[0]-i[0])/(n[1]-i[1]),a=(r*e[1]-e[0]-o*i[1]+i[0])/(r-o);return[r*a-r*e[1]+e[0],a]
}),l=t.getAzimuth=function(e,t){var i=void 0,n=Math.asin(Math.abs(t[1]-e[1])/o(e,t));return t[1]>=e[1]&&t[0]>=e[0]?i=n+Math.PI:t[1]>=e[1]&&t[0]<e[0]?i=2*Math.PI-n:t[1]<e[1]&&t[0]<e[0]?i=n:t[1]<e[1]&&t[0]>=e[0]&&(i=Math.PI-n),i
},u=(t.getAngleOfThreePoints=function(e,t,i){var n=l(t,e)-l(t,i);return n<0?n+2*Math.PI:n},t.isClockWise=function(e,t,i){return(i[1]-e[1])*(t[0]-e[0])>(t[1]-e[1])*(i[0]-e[0])}),c=(t.getPointOnLine=function(e,t,i){
return[t[0]+e*(i[0]-t[0]),t[1]+e*(i[1]-t[1])]},t.getCubicValue=function(e,t,i,n,r){var o=1-(e=Math.max(Math.min(e,1),0)),a=e*e,s=a*e,l=o*o,u=l*o;return[u*t[0]+3*l*e*i[0]+3*o*a*n[0]+s*r[0],u*t[1]+3*l*e*i[1]+3*o*a*n[1]+s*r[1]]
}),p=(t.getThirdPoint=function(e,t,i,n,r){var o=l(e,t),a=r?o+i:o-i,s=n*Math.cos(a),u=n*Math.sin(a);return[t[0]+s,t[1]+u]},t.inherits=function(e,t){function i(){}i.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new i,e.prototype.constructor=e,
e.base=function(e,i,n){var r=Array.prototype.slice.call(arguments,2);return t.prototype[i].apply(e,r)}},t.getArcPoints=function(e,t,i,n){var r=null,o=null,a=[],s=n-i;s=s<0?s+2*Math.PI:s;for(var l=0;l<=100;l++){var u=i+s*l/100;r=e[0]+t*Math.cos(u),
o=e[1]+t*Math.sin(u),a.push([r,o])}return a},t.getBisectorNormals=function(e,t,i,n){var a=d(t,i,n),s=null,l=null,c=null,p=Math.sqrt(a[0]*a[0]+a[1]*a[1]),h=a[0]/p,f=a[1]/p,m=o(t,i),A=o(i,n);return p>r.ZERO_TOLERANCE?u(t,i,n)?(c=e*m,s=[i[0]-c*f,i[1]+c*h],
c=e*A,l=[i[0]+c*f,i[1]-c*h]):(c=e*m,s=[i[0]+c*f,i[1]-c*h],c=e*A,l=[i[0]-c*f,i[1]+c*h]):(s=[i[0]+e*(t[0]-i[0]),i[1]+e*(t[1]-i[1])],l=[i[0]+e*(n[0]-i[0]),i[1]+e*(n[1]-i[1])]),[s,l]}),d=t.getNormal=function(e,t,i){
var n=e[0]-t[0],r=e[1]-t[1],o=Math.sqrt(n*n+r*r);n/=o,r/=o;var a=i[0]-t[0],s=i[1]-t[1],l=Math.sqrt(a*a+s*s);return[n+(a/=l),r+(s/=l)]},h=t.getLeftMostControlPoint=function(e,t){
var i=[e[0],e[1],e[2],null,null],n=i[0],a=i[1],s=i[2],l=i[3],u=i[4],c=p(0,n,a,s)[0],h=d(n,a,s);if(Math.sqrt(h[0]*h[0]+h[1]*h[1])>r.ZERO_TOLERANCE){
var f=f(n,a),m=n[0]-f[0],A=n[1]-f[1],g=2/o(n,a),v=-g*A,C=g*m,y=v*v-C*C,w=2*v*C,P=C*C-v*v,E=c[0]-f[0],b=c[1]-f[1];l=f[0]+y*E+w*b,u=f[1]+w*E+P*b}else l=n[0]+t*(a[0]-n[0]),u=n[1]+t*(a[1]-n[1]);return[l,u]},f=t.getRightMostControlPoint=function(e,t){
var i=e.length,n=e[i-3],a=e[i-2],s=e[i-1],l=p(0,n,a,s)[1],u=d(n,a,s),c=null,h=null;if(Math.sqrt(u[0]*u[0]+u[1]*u[1])>r.ZERO_TOLERANCE){var f=f(a,s),m=s[0]-f[0],A=s[1]-f[1],g=2/o(a,s),v=-g*A,C=g*m,y=v*v-C*C,w=2*v*C,P=C*C-v*v,E=l[0]-f[0],b=l[1]-f[1]
;c=f[0]+y*E+w*b,h=f[1]+w*E+P*b}else c=s[0]+t*(a[0]-s[0]),h=s[1]+t*(a[1]-s[1]);return[c,h]},m=(t.getCurvePoints=function(e,t){for(var i=null,n=null,o=[h(t,e)],a=[],s=0;s<t.length-2;s++){var l=[t[s],t[s+1],t[s+2]],u=p(e,i=l[0],n=l[1],l[2]);o=o.concat(u)}
var d=f(t,e);d&&o.push(d);for(var m=0;m<t.length-1;m++){i=t[m],n=t[m+1],a.push(i);for(var A=0;A<r.FITTING_COUNT;A++){var g=c(A/r.FITTING_COUNT,i,o[2*m],o[2*m+1],n);a.push(g)}a.push(n)}return a},t.getBezierPoints=function(e){if(e.length<=2)return e
;for(var t=[],i=e.length-1,n=0;n<=1;n+=.01){for(var r=0,o=0,a=0;a<=i;a++){var s=A(i,a),l=Math.pow(n,a),u=Math.pow(1-n,i-a);r+=s*l*u*e[a][0],o+=s*l*u*e[a][1]}t.push([r,o])}return t.push(e[i]),t},t.getFactorial=function(e){var t=1;switch(e){case e<=1:t=1
;break;case 2===e:t=2;break;case 3===e:t=6;break;case 24===e:t=24;break;case 5===e:t=120;break;default:for(var i=1;i<=e;i++)t*=i}return t}),A=t.getBinomialFactor=function(e,t){return m(e)/(m(t)*m(e-t))},g=(t.getQBSplinePoints=function(e){
if(e.length<=2)return e;var t=[],i=e.length-2-1;t.push(e[0]);for(var n=0;n<=i;n++)for(var r=0;r<=1;r+=.05){for(var o=0,a=0,s=0;s<=2;s++){var l=g(s,r);o+=l*e[n+s][0],a+=l*e[n+s][1]}t.push([o,a])}return t.push(e[e.length-1]),t},
t.getQuadricBSplineFactor=function(e,t){var i=0;return 0===e?i=Math.pow(t-1,2)/2:1===e?i=(-2*Math.pow(t,2)+2*t+1)/2:2===e&&(i=Math.pow(t,2)/2),i}),v=t.getuuid=function(){
for(var e=[],t="0123456789abcdef",i=0;i<36;i++)e[i]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},C=(t.stamp=function(e){var t="_event_id_";return e[t]=e[t]||v(),e[t]},
t.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}),y=(t.splitWords=function(e){return C(e).split(/\s+/)},t.isObject=function(e){var t=void 0===e?"undefined":n(e);return null!==e&&("object"===t||"function"===t)});t.merge=function e(t,i){
for(var n in i)y(i[n])&&y(t[n])?e(t[n],i[n]):t[n]=i[n];return t}},7819:(e,t)=>{function i(e,t){return Cesium.Cartesian3.fromDegrees(e[0],e[1],parseFloat(t))}function n(e){var t=Cesium.Cartographic.fromCartesian(e)
;return[Cesium.Math.toDegrees(t.longitude),Cesium.Math.toDegrees(t.latitude)]}Object.defineProperty(t,"__esModule",{value:!0}),t.point2dToPoint3d=i,t.poin2dsToPoint3ds=function(e,t){var n=[];t=t||0;for(var r=0;r<e.length;r++)n.push(i(e[r],t));return n},
t.point3dToPoint2d=n,t.point3dsToPoint2ds=function(e){for(var t=[],i=0;i<e.length;i++)t.push(n(e[i]));return t}},9544:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i]
;n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=a(i(2256)),o=a(i(7680));function a(e){return e&&e.__esModule?e:{default:e}}
var s=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.properties.plotType=o.default.ASSAULT_DIRECTION,n.properties.plotName="突击方向",n}return function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"initConsts",value:function(){this.tailWidthFactor=.2,this.neckWidthFactor=.25,this.headWidthFactor=.3,this.headAngle=Math.PI/4,this.neckAngle=.17741*Math.PI,
this.fixPointCount=2}}]),t}(r.default);t.default=s},5431:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,
"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=u(i(963)),o=u(i(6375)),a=l(i(8585)),s=l(i(7680));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){
if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var c=function(e){function t(e,i){!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t
}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.properties.plotType=s.default.ATTACK_ARROW,n.properties.plotName="进攻方向",n}return function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"initConsts",value:function(){this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.headTailFactor=.8}},{key:"generate",
value:function(){if(!(this.getPointCount()<2))if(2!=this.getPointCount()){var e=this.getPoints(),t=e[0],i=e[1];r.isClockWise(e[0],e[1],e[2])&&(t=e[1],i=e[0])
;var n=[r.mid(t,i)].concat(e.slice(2)),o=this.getArrowHeadPoints(n,t,i),a=o[0],s=o[4],l=r.distance(t,i)/r.getBaseLength(n),u=this.getArrowBodyPoints(n,a,s,l),c=u.length,p=[t].concat(u.slice(0,c/2));p.push(a);var d=[i].concat(u.slice(c/2,c));d.push(s),
p=r.getQBSplinePoints(p),d=r.getQBSplinePoints(d),this.generatePositions(p.concat(o,d.reverse()))}else this.generatePositions(this.coordinates[0])}},{key:"getArrowHeadPoints",value:function(e,t,i){
var n=r.getBaseLength(e),a=n*this.headHeightFactor,s=e[e.length-1];n=r.distance(s,e[e.length-2]);var l=r.distance(t,i);a>l*this.headTailFactor&&(a=l*this.headTailFactor)
;var u=a*this.headWidthFactor,c=a*this.neckWidthFactor,p=(a=a>n?n:a)*this.neckHeightFactor,d=r.getThirdPoint(e[e.length-2],s,0,a,!0),h=r.getThirdPoint(e[e.length-2],s,0,p,!0),f=r.getThirdPoint(s,d,o.HALF_PI,u,!1),m=r.getThirdPoint(s,d,o.HALF_PI,u,!0)
;return[r.getThirdPoint(s,h,o.HALF_PI,c,!1),f,s,m,r.getThirdPoint(s,h,o.HALF_PI,c,!0)]}},{key:"getArrowBodyPoints",value:function(e,t,i,n){for(var o=r.wholeDistance(e),a=r.getBaseLength(e)*n,s=(a-r.distance(t,i))/2,l=0,u=[],c=[],p=1;p<e.length-1;p++){
var d=r.getAngleOfThreePoints(e[p-1],e[p],e[p+1])/2,h=(a/2-(l+=r.distance(e[p-1],e[p]))/o*s)/Math.sin(d),f=r.getThirdPoint(e[p-1],e[p],Math.PI-d,h,!0),m=r.getThirdPoint(e[p-1],e[p],d,h,!1);u.push(f),c.push(m)}return u.concat(c)}}]),t}(a.default)
;t.default=c},5469:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),
Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t
}(i(6375)),o=a(i(7680));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){
if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.properties.plotType=o.default.CIRCLE,
n.properties.plotName="正圆",n.fixPointCount=2,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"generate",value:function(){if(!(this.getPointCount()<2)){
var e=this.coordinates[0][0],t=this.distance(e,this.coordinates[0][1]);this.generatePositions(this.generateCirclePoints(e,t))}}},{key:"distance",value:function(e,t){
var i=e[1]*Math.PI/180,n=t[1]*Math.PI/180,r=i-n,o=e[0]*Math.PI/180-t[0]*Math.PI/180,a=2*Math.asin(Math.sqrt(Math.pow(Math.sin(r/2),2)+Math.cos(i)*Math.cos(n)*Math.pow(Math.sin(o/2),2)));return a*=6378.137,a=Math.round(1e4*a)/10}},{
key:"generateCirclePoints",value:function(e,t){for(var i=[],n=0;n<360;n+=2)i.push(this.getCirclePoint(e[0],e[1],n,t));return i}},{key:"getCirclePoint",value:function(e,t,i,n){
var o=n*Math.sin(i*Math.PI/180),a=n*Math.cos(i*Math.PI/180),s=r.PRADIUS+(r.ERADIUS-r.PRADIUS)*(90-t)/90;return[180*(o/(s*Math.cos(t*Math.PI/180))+e*Math.PI/180)/Math.PI,180*(a/s+t*Math.PI/180)/Math.PI]}}]),t}(a(i(8585)).default);t.default=s},
6060:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}
return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=u(i(963)),o=u(i(6375)),a=l(i(8585)),s=l(i(7680));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={}
;if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var c=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)
;var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i))
;return n.properties.plotType=s.default.CLOSED_CURVE,n.properties.plotName="曲线面",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"initConsts",value:function(){this.t=.3}},{key:"generate",
value:function(){if(!((e=this.getPointCount())<2))if(2==e)this.generatePositions(this.coordinates[0]);else{var e,t=this.getPoints();t.push(t[0],t[1]);for(var i=[],n=0;n<t.length-2;n++){var a=r.getBisectorNormals(this.t,t[n],t[n+1],t[n+2]);i=i.concat(a)}
i=[i[(e=i.length)-1]].concat(i.slice(0,e-1));var s=[];for(n=0;n<t.length-2;n++){var l=t[n],u=t[n+1];s.push(l);for(var c=0;c<=o.FITTING_COUNT;c++){var p=r.getCubicValue(c/o.FITTING_COUNT,l,i[2*n],i[2*n+1],u);s.push(p)}s.push(u)}this.generatePositions(s)}}
}]),t}(a.default);t.default=c},9020:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),
Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=l(i(963)),o=l(i(6375)),a=s(i(7680));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={}
;if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var u=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)
;var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i))
;return n.properties.plotType=a.default.DOUBLE_ARROW,n.properties.plotName="钳击",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"initConsts",value:function(){this.headHeightFactor=.25,
this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.connPoint=null,this.tempPoint4=null,this.fixPointCount=4}},{key:"generate",value:function(){if(!((a=this.getPointCount())<2))if(2!=a){
var e,t,i=this.coordinates[0][0],n=this.coordinates[0][1],o=this.coordinates[0][2],a=this.getPointCount();this.tempPoint4=3==a?this.getTempPoint4(i,n,o):this.coordinates[0][3],this.connPoint=3==a||4==a?r.mid(i,n):this.coordinates[0][4],
r.isClockWise(i,n,o)?(e=this.getArrowPoints(i,this.connPoint,this.tempPoint4,!1),t=this.getArrowPoints(this.connPoint,n,o,!0)):(e=this.getArrowPoints(n,this.connPoint,o,!1),t=this.getArrowPoints(this.connPoint,i,this.tempPoint4,!0))
;var s=e.length,l=(s-5)/2,u=e.slice(0,l),c=e.slice(l,l+5),p=e.slice(l+5,s),d=t.slice(0,l),h=t.slice(l,l+5),f=t.slice(l+5,s);d=r.getBezierPoints(d);var m=r.getBezierPoints(f.concat(u.slice(1)));p=r.getBezierPoints(p);var A=d.concat(h,m,c,p)
;this.generatePositions(A)}else this.generatePositions(this.coordinates[0])}},{key:"getArrowPoints",value:function(e,t,i,n){
var a=r.mid(e,t),s=r.distance(a,i),l=r.getThirdPoint(i,a,0,.3*s,!0),u=r.getThirdPoint(i,a,0,.5*s,!0),c=[a,l=r.getThirdPoint(a,l,o.HALF_PI,s/5,n),u=r.getThirdPoint(a,u,o.HALF_PI,s/4,n),i],p=this.getArrowHeadPoints(c,this.headHeightFactor,this.headWidthFactor,this.neckHeightFactor,this.neckWidthFactor),d=p[0],h=p[4],f=r.distance(e,t)/r.getBaseLength(c)/2,m=this.getArrowBodyPoints(c,d,h,f),A=m.length,g=m.slice(0,A/2),v=m.slice(A/2,A)
;return g.push(d),v.push(h),(g=g.reverse()).push(t),(v=v.reverse()).push(e),g.reverse().concat(p,v)}},{key:"getArrowHeadPoints",value:function(e,t,i){var n=r.getBaseLength(e)*this.headHeightFactor,a=e[e.length-1],s=(r.distance(t,i),
n*this.headWidthFactor),l=n*this.neckWidthFactor,u=n*this.neckHeightFactor,c=r.getThirdPoint(e[e.length-2],a,0,n,!0),p=r.getThirdPoint(e[e.length-2],a,0,u,!0),d=r.getThirdPoint(a,c,o.HALF_PI,s,!1),h=r.getThirdPoint(a,c,o.HALF_PI,s,!0)
;return[r.getThirdPoint(a,p,o.HALF_PI,l,!1),d,a,h,r.getThirdPoint(a,p,o.HALF_PI,l,!0)]}},{key:"getArrowBodyPoints",value:function(e,t,i,n){for(var o=r.wholeDistance(e),a=r.getBaseLength(e)*n,s=(a-r.distance(t,i))/2,l=0,u=[],c=[],p=1;p<e.length-1;p++){
var d=r.getAngleOfThreePoints(e[p-1],e[p],e[p+1])/2,h=(a/2-(l+=r.distance(e[p-1],e[p]))/o*s)/Math.sin(d),f=r.getThirdPoint(e[p-1],e[p],Math.PI-d,h,!0),m=r.getThirdPoint(e[p-1],e[p],d,h,!1);u.push(f),c.push(m)}return u.concat(c)}},{key:"getTempPoint4",
value:function(e,t,i){var n,a,s,l,u=r.mid(e,t),c=r.distance(u,i),p=r.getAngleOfThreePoints(e,u,i);return p<o.HALF_PI?(a=c*Math.sin(p),s=c*Math.cos(p),l=r.getThirdPoint(e,u,o.HALF_PI,a,!1),
n=r.getThirdPoint(u,l,o.HALF_PI,s,!0)):p>=o.HALF_PI&&p<Math.PI?(a=c*Math.sin(Math.PI-p),s=c*Math.cos(Math.PI-p),l=r.getThirdPoint(e,u,o.HALF_PI,a,!1),n=r.getThirdPoint(u,l,o.HALF_PI,s,!1)):p>=Math.PI&&p<1.5*Math.PI?(a=c*Math.sin(p-Math.PI),
s=c*Math.cos(p-Math.PI),l=r.getThirdPoint(e,u,o.HALF_PI,a,!0),n=r.getThirdPoint(u,l,o.HALF_PI,s,!0)):(a=c*Math.sin(2*Math.PI-p),s=c*Math.cos(2*Math.PI-p),l=r.getThirdPoint(e,u,o.HALF_PI,a,!0),n=r.getThirdPoint(u,l,o.HALF_PI,s,!1)),n}}]),t
}(s(i(8585)).default);t.default=u},6062:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),
Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=l(i(963)),o=l(i(6375)),a=s(i(7680));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={}
;if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var u=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)
;var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i))
;return n.properties.plotType=a.default.ELLIPSE,n.properties.plotName="椭圆",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"initConsts",value:function(){this.fixPointCount=2}},{
key:"generate",value:function(){if(!(this.getPointCount()<2)){var e=this.coordinates[0][0],t=this.coordinates[0][1],i=r.mid(e,t),n=Math.abs((e[0]-t[0])/2),o=Math.abs((e[1]-t[1])/2);this.generatePositions(this.generatePoints(i,n,o))}}},{
key:"generatePoints",value:function(e,t,i){for(var n,r,a,s=[],l=0;l<=o.FITTING_COUNT;l++)a=2*Math.PI*l/o.FITTING_COUNT,n=e[0]+t*Math.cos(a),r=e[1]+i*Math.sin(a),s.push([n,r]);return s}}]),t}(s(i(8585)).default);t.default=u},2256:(e,t,i)=>{
Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){
return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=l(i(963)),o=l(i(6375)),a=s(i(7680));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={}
;if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var u=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)
;var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i))
;return n.properties.plotType=a.default.FINE_ARROW,n.properties.plotName="直箭头",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"initConsts",value:function(){this.tailWidthFactor=.1,
this.neckWidthFactor=.2,this.headWidthFactor=.25,this.headAngle=Math.PI/8.5,this.neckAngle=Math.PI/13,this.fixPointCount=2}},{key:"generate",value:function(){if(!(this.getPointCount()<2)){
var e=this.getPoints(),t=e[0],i=e[1],n=r.getBaseLength(e),a=n*this.tailWidthFactor,s=n*this.neckWidthFactor,l=n*this.headWidthFactor,u=r.getThirdPoint(i,t,o.HALF_PI,a,!0),c=r.getThirdPoint(i,t,o.HALF_PI,a,!1),p=r.getThirdPoint(t,i,this.headAngle,l,!1),d=r.getThirdPoint(t,i,this.headAngle,l,!0),h=[u,r.getThirdPoint(t,i,this.neckAngle,s,!1),p,i,d,r.getThirdPoint(t,i,this.neckAngle,s,!0),c]
;this.generatePositions(h)}}}]),t}(s(i(8585)).default);t.default=u},1246:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,
"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=l(i(963)),o=l(i(6375)),a=s(i(7680));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){
if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var u=function(e){function t(e,i){!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t
}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.properties.plotType=a.default.GATHERING_PLACE,n.properties.plotName="集结地",n}return function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"initConsts",value:function(){this.t=.4,this.fixPointCount=3}},{key:"generate",value:function(){var e=this.getPoints();if(!(e.length<2)){if(2==this.getPointCount()){
var t=r.mid(e[0],e[1]),i=r.distance(e[0],t)/.9,n=r.getThirdPoint(e[0],t,o.HALF_PI,i,!0);e=[e[0],n,e[1]]}t=r.mid(e[0],e[2]);e.push(t,e[0],e[1]);for(var a=[],s=0;s<e.length-2;s++){var l=e[s],u=e[s+1],c=e[s+2],p=r.getBisectorNormals(this.t,l,u,c)
;a=a.concat(p)}var d=a.length;a=[a[d-1]].concat(a.slice(0,d-1));var h=[];for(s=0;s<e.length-2;s++){l=e[s],u=e[s+1],h.push(l);for(var f=0;f<=o.FITTING_COUNT;f++){n=r.getCubicValue(f/o.FITTING_COUNT,l,a[2*s],a[2*s+1],u);h.push(n)}h.push(u)}
this.generatePositions(h)}}}]),t}(s(i(8585)).default);t.default=u},8585:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,
"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=a(i(9964)),o=a(i(7680));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,i){!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t
}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.properties.plotType=o.default.POLYGON,n.properties.plotName="面",n.color="#c11616",n.generateEntity(),n.minPointCount=3,n}return function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"generateEntity",value:function(){this.polygonEntity=this.viewer.entities.add({plotType:this.properties.plotBase,plotCode:this.properties.plotCode,polygon:{
hierarchy:new Cesium.PolygonHierarchy(this.positions||[]),material:Cesium.Color.fromCssColorString(this.color),classificationType:Cesium.ClassificationType.BOTH,clampToGround:!0},clampToS3M:!0,clampToGround:!0})}},{key:"Polygon_updateStyle",
value:function(e){}},{key:"setSelected",value:function(e){}},{key:"generate",value:function(){this.getPointCount()<2||this.generatePositions(this.coordinates[0])}},{key:"openEditMode",value:function(e){var t=this
;e?(this.polygonEntity.polygon.hierarchy=new Cesium.CallbackProperty((function(e){return new Cesium.PolygonHierarchy(t.positions||[])}),!1),this.polygonEntity.polyline={positions:new Cesium.CallbackProperty((function(e){
return t.positions&&t.positions.length>0?t.positions.concat(t.positions[0]):[]}),!1),width:2,clampToGround:!0,material:new Cesium.PolylineDashMaterialProperty({color:Cesium.Color.YELLOW}),depthFailMaterial:new Cesium.PolylineDashMaterialProperty({
color:Cesium.Color.YELLOW})}):(this.polygonEntity.polygon.hierarchy=new Cesium.PolygonHierarchy(this.positions||[]),this.polygonEntity.polyline&&(this.polygonEntity.polyline.width=0))}},{key:"toGeoJson",value:function(){return{"type":"Feature",
"properties":this.properties,"geometry":{"type":"Polygon","coordinates":this.coordinates}}}},{key:"remove",value:function(){this.viewer.entities.remove(this.polygonEntity)}}]),t}(r.default);t.default=s},5324:(e,t,i)=>{Object.defineProperty(t,"__esModule",{
value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}
}(),r=a(i(8585)),o=a(i(7680));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){
if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i))
;return n.properties.plotType=o.default.RECTANGLE,n.properties.plotName="矩形",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"initConsts",value:function(){this.fixPointCount=2}},{
key:"generate",value:function(){if(!(this.getPointCount()<2)){var e=this.coordinates[0][0],t=this.coordinates[0][1],i=Math.min(e[0],t[0]),n=Math.max(e[0],t[0]),r=Math.min(e[1],t[1]),o=Math.max(e[1],t[1]),a=[i,o],s=[n,o],l=[n,r],u=[i,r]
;this.generatePositions([a,s,l,u])}}}]),t}(r.default);t.default=s},8904:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,
"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=l(i(963)),o=l(i(6375)),a=s(i(7680));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){
if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var u=function(e){function t(e,i){!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t
}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.properties.plotType=a.default.SECTOR,n.properties.plotName="扇形",n}return function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"initConsts",value:function(){this.fixPointCount=3}},{key:"generate",value:function(){
if(!(this.getPointCount()<2))if(2==this.getPointCount())this.generatePositions(this.coordinates[0]);else{var e=this.getPoints(),t=e[0],i=e[1],n=e[2],o=(r.distance(i,t),
180*r.getAzimuth(i,t)/3.14),a=180*r.getAzimuth(n,t)/3.14,s=this.distance(i,t),l=this.generatSectorPoints(t,s,o,a);l.push(t,l[0]),this.generatePositions(l)}}},{key:"distance",value:function(e,t){
var i=e[1]*Math.PI/180,n=t[1]*Math.PI/180,r=i-n,o=e[0]*Math.PI/180-t[0]*Math.PI/180,a=2*Math.asin(Math.sqrt(Math.pow(Math.sin(r/2),2)+Math.cos(i)*Math.cos(n)*Math.pow(Math.sin(o/2),2)));return a*=6378.137,a=Math.round(1e4*a)/10}},{
key:"generatSectorPoints",value:function(e,t,i,n){var r=[];if((i=90-i)<(n=90-n))for(var o=i;o<n;o+=2)r.push(this.getCirclePoint(e[0],e[1],o,t));else for(var a=i;a>n;a-=2)r.push(this.getCirclePoint(e[0],e[1],a,t));return r}},{key:"getCirclePoint",
value:function(e,t,i,n){var r=n*Math.sin(i*Math.PI/180),a=n*Math.cos(i*Math.PI/180),s=o.PRADIUS+(o.ERADIUS-o.PRADIUS)*(90-t)/90;return[180*(r/(s*Math.cos(t*Math.PI/180))+e*Math.PI/180)/Math.PI,180*(a/s+t*Math.PI/180)/Math.PI]}}]),t}(s(i(8585)).default)
;t.default=u},1797:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),
Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=l(i(963)),o=l(i(6375)),a=s(i(7680));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={}
;if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var u=function(e){function t(e,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)
;var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,n))
;return r.properties.plotType=a.default.SQUAD_COMBAT,r.properties.plotName="分队战斗",r.minPointCount=2,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"initConsts",value:function(){this.headHeightFactor=.18,
this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1}},{key:"generate",value:function(){if(!((s=this.getPointCount())<2)){
var e=this.getPoints(),t=this.getTailPoints(e),i=this.getArrowHeadPoints(e,t[0],t[1]),n=i[0],o=i[4],a=this.getArrowBodyPoints(e,n,o,this.tailWidthFactor),s=a.length,l=[t[0]].concat(a.slice(0,s/2));l.push(n);var u=[t[1]].concat(a.slice(s/2,s));u.push(o),
l=r.getQBSplinePoints(l),u=r.getQBSplinePoints(u),this.generatePositions(l.concat(i,u.reverse()))}}},{key:"getTailPoints",value:function(e){var t=r.getBaseLength(e)*this.tailWidthFactor
;return[r.getThirdPoint(e[1],e[0],o.HALF_PI,t,!1),r.getThirdPoint(e[1],e[0],o.HALF_PI,t,!0)]}}]),t}(s(i(5431)).default);t.default=u},7993:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){
for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){
if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(963)),o=s(i(5431)),a=s(i(7680));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){
function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.properties.plotType=a.default.TAILED_ATTACK_ARROW,n.properties.plotName="进攻方向尾",n}return function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"initConsts",value:function(){this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,
this.headTailFactor=.8,this.swallowTailFactor=1,this.swallowTailPnt=null}},{key:"generate",value:function(){if(!((h=this.getPointCount())<2))if(2!=this.getPointCount()){var e=this.getPoints(),t=e[0],i=e[1];r.isClockWise(e[0],e[1],e[2])&&(t=e[1],i=e[0])
;var n=[r.mid(t,i)].concat(e.slice(2)),o=this.getArrowHeadPoints(n,t,i),a=o[0],s=o[4],l=r.distance(t,i),u=r.getBaseLength(n),c=u*this.tailWidthFactor*this.swallowTailFactor;this.swallowTailPnt=r.getThirdPoint(n[1],n[0],0,c,!0)
;var p=l/u,d=this.getArrowBodyPoints(n,a,s,p),h=d.length,f=[t].concat(d.slice(0,h/2));f.push(a);var m=[i].concat(d.slice(h/2,h));m.push(s),f=r.getQBSplinePoints(f),m=r.getQBSplinePoints(m),
this.generatePositions(f.concat(o,m.reverse(),[this.swallowTailPnt,f[0]]))}else this.generatePositions(this.coordinates[0])}}]),t}(o.default);t.default=l},1835:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){
for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=l(i(963)),o=l(i(6375)),a=s(i(7680))
;function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var u=function(e){function t(e,i){!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t
}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.properties.plotType=a.default.TAILED_SQUAD_COMBAT,n.properties.plotName="分队战斗尾",n.minPointCount=2,n}return function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"initConsts",value:function(){this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,
this.swallowTailFactor=1,this.swallowTailPnt=null}},{key:"generate",value:function(){if(!((s=this.getPointCount())<2)){
var e=this.getPoints(),t=this.getTailPoints(e),i=this.getArrowHeadPoints(e,t[0],t[2]),n=i[0],o=i[4],a=this.getArrowBodyPoints(e,n,o,this.tailWidthFactor),s=a.length,l=[t[0]].concat(a.slice(0,s/2));l.push(n);var u=[t[2]].concat(a.slice(s/2,s));u.push(o),
l=r.getQBSplinePoints(l),u=r.getQBSplinePoints(u),this.generatePositions(l.concat(i,u.reverse(),[t[1],l[0]]))}}},{key:"getTailPoints",value:function(e){
var t=r.getBaseLength(e)*this.tailWidthFactor,i=r.getThirdPoint(e[1],e[0],o.HALF_PI,t,!1),n=r.getThirdPoint(e[1],e[0],o.HALF_PI,t,!0),a=t*this.swallowTailFactor;return[i,r.getThirdPoint(e[1],e[0],0,a,!0),n]}}]),t}(s(i(5431)).default);t.default=u},
3985:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}
return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=a(i(9964)),o=a(i(7680));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,i){!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t
}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.properties.plotName="箭头",n.properties.plotType=o.default.STRAIGHT_ARROW,n.minPointCount=2,n.properties.style.width=Number(n.properties.style.width)||10,
n.properties.style.color=i.properties.style.color||"#1700fc",n.generateEntity(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"generateEntity",value:function(){var e=this
;this.lineStraightArrowEntity=this.viewer.entities.add({plotType:"MilitaryPlot",plotCode:this.properties.plotCode,polyline:{positions:new Cesium.CallbackProperty((function(t){return e.positions}),!1),width:this.properties.style.width,clampToGround:!0,
material:new Cesium.PolylineArrowMaterialProperty(Cesium.Color.fromCssColorString(this.color)),classificationType:Cesium.ClassificationType.S3M_TILE}})}},{key:"updateStyle",value:function(){
this.lineStraightArrowEntity.polyline.material.color=Cesium.Color.fromCssColorString(this.color),this.lineStraightArrowEntity.polyline.width=this.style.width}},{key:"generate",value:function(){
this.getPointCount()<2||this.generatePositions(this.coordinates[0])}},{key:"toGeoJson",value:function(){return{"type":"Feature","properties":this.properties,"geometry":{"type":"Straightarrow","coordinates":this.coordinates}}}},{key:"setSelected",
value:function(e){}},{key:"remove",value:function(){this.viewer.entities.remove(this.lineStraightArrowEntity)}}]),t}(r.default);t.default=s},3202:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(1522),o=(n=r)&&n.__esModule?n:{default:n}
;t.default={__init__:["plotDraw"],plotDraw:["type",o.default]}},8578:(e,t)=>{function i(e){this._map=e._map,this._L=e._L,this._legends=new Array}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.$inject=["map"],
i.prototype.setLegend=function(e){var t=document.getElementById("container");this.legendDom&&t.removeChild(this.legendDom),this.legendDom=document.createElement("div"),this.legendDom.setAttribute("class",e.class);var i=""
;e.data instanceof Array&&(this._legends=e,e.data.forEach((function(e){i+='<div><img style="width: 28px;" src="'+e.icon+'" alt=""><span>'+e.text+"</span></div>"})));var n,r='<div class="title">图例</div><div class="content">'+i+"</div>"
;this.legendDom.innerHTML=r,t.appendChild(this.legendDom),(n=this.legendDom).style.setProperty("position","absolute"),n.style.setProperty("bottom","10px"),n.style.setProperty("right","10px"),n.style.setProperty("z-index","999"),
n.style.setProperty("min-width","160px")},i.prototype.addLegend=function(e){this._legends.data?0==this._legends.data.filter((function(t){return t.text==e.text})).length&&(this._legends.data.push(e),console.log(this._legends),
this.setLegend(this._legends)):(this._legends={class:e.class||"pag-legend",data:e.data||[e]},this.setLegend(this._legends))},i.prototype.removeLegend=function(e){if(this._legends.data){var t=this._legends.data.filter((function(t){return t.text!=e.text}))
;0!=t.length&&(this._legends.data=t,this.setLegend(this._legends))}}},9836:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(8578),o=(n=r)&&n.__esModule?n:{default:n};t.default={__init__:["legend"],legend:["type",o.default]}},
9606:(e,t)=>{function i(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.prototype.next=function(){return this._prefix+ ++this._counter}}},t={};function i(n){
if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}(()=>{
var e=m(i(9548)),t=m(i(1030)),n=m(i(4634)),r=m(i(914)),o=m(i(3177)),a=m(i(5229)),s=m(i(1570)),l=m(i(4137)),u=m(i(3202)),c=m(i(7793)),p=m(i(9302)),d=m(i(5576)),h=m(i(5580)),f=m(i(9836));function m(e){return e&&e.__esModule?e:{default:e}}window.B3dCesium={},
window.B3dMap={},window.B3dCesium.Plugins={CesiumFence:e.default,CesiumMaterial:t.default,AlertMarker:n.default,Move:r.default,Plan3D:o.default,Draw3D:a.default,Particle:s.default,Action:l.default,Plot:u.default},window.B3dMap.Plugins={Draw:p.default,
Legend:f.default,Theme:d.default,Marker:c.default,Plan2D:h.default}})()})();